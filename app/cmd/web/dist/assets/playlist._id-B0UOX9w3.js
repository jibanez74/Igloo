const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DraggableTrackList-DV4IGiiz.js","assets/index-B4Mm07st.js","assets/index-CFOGlK_-.css","assets/dist-BE3VF_ow.js","assets/dist-D9YK6Fjb.js","assets/dist-DoMa5iEY.js","assets/dist-DehwVPxN.js","assets/dist-m3SJwciI.js","assets/TrackItem-D52HMG6c.js","assets/button-DUpsrK_w.js","assets/dist-DRYwAtpY.js","assets/dialog-BHOyGAmv.js","assets/useQuery-DYliyyeq.js","assets/plus-DrfurNsD.js","assets/trash-2-CWBGQmm5.js","assets/user-wQOA0tR5.js","assets/nullable-DZsmEyNt.js","assets/input-COadufZY.js","assets/toast-helpers-N18T5b5Z.js"])))=>i.map(i=>d[i]);
import{t as e}from"./useQuery-DYliyyeq.js";import{i as t,n,r,t as i}from"./PlaylistFormDialog-BwpFg17L.js";import{s as a}from"./dialog-BHOyGAmv.js";import{t as o}from"./arrow-left-CHge2wga.js";import{o as s,t as c}from"./TrackItem-D52HMG6c.js";import{t as l}from"./circle-alert-BBYeejEm.js";import{t as u}from"./clock-BRDoWx7G.js";import{t as ee}from"./music-DCJfo9yH.js";import"./plus-DrfurNsD.js";import{t as d}from"./shuffle-SybXheIC.js";import{t as f}from"./trash-2-CWBGQmm5.js";import{t as p}from"./user-wQOA0tR5.js";import{J as te,Mt as m,N as ne,Ot as h,Q as g,Tt as re,V as _,_ as v,c as y,en as b,gt as x,i as S,j as C,jt as ie,kt as w,nt as ae,ot as oe,st as se,t as ce,v as le,vt as T}from"./index-B4Mm07st.js";import"./dist-D9YK6Fjb.js";import"./dist-DoMa5iEY.js";import"./dist-DehwVPxN.js";import"./dist-m3SJwciI.js";import"./dist-BE3VF_ow.js";import{i as E,s as ue,t as D}from"./toast-helpers-N18T5b5Z.js";import"./button-DUpsrK_w.js";import"./dist-DRYwAtpY.js";import"./input-COadufZY.js";import{i as de,n as O,r as fe}from"./nullable-DZsmEyNt.js";import"./label-oJjLCjTp.js";var k=h(`pencil`,[[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}],[`path`,{d:`m15 5 4 4`,key:`1mk7zo`}]]),A=b(),j=w(),M=m();function pe(e){let t=(0,j.c)(4),{open:n,onOpenChange:r,playlist:a}=e,o;return t[0]!==r||t[1]!==n||t[2]!==a?(o=(0,M.jsx)(i,{mode:`edit`,open:n,onOpenChange:r,playlist:a}),t[0]=r,t[1]=n,t[2]=a,t[3]=o):o=t[3],o}var me=w(),he=(0,A.lazy)(()=>y(()=>import(`./DraggableTrackList-DV4IGiiz.js`),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18])));function ge(){let t=(0,me.c)(9),{id:n}=S.useParams(),r=parseInt(n,10),i;t[0]===r?i=t[1]:(i=v(r),t[0]=r,t[1]=i);let{data:a,isLoading:o,error:s}=e(i);if(o){let e;return t[2]===Symbol.for(`react.memo_cache_sentinel`)?(e=(0,M.jsx)(`div`,{className:`flex min-h-[50vh] items-center justify-center`,children:(0,M.jsx)(T,{className:`size-10 text-amber-400`})}),t[2]=e):e=t[2],e}if(s||!a||a.error){let e,n;t[3]===Symbol.for(`react.memo_cache_sentinel`)?(e=(0,M.jsx)(l,{className:`mx-auto mb-4 size-10`,"aria-hidden":`true`}),n=(0,M.jsx)(`p`,{children:`Failed to load playlist. Please try again.`}),t[3]=e,t[4]=n):(e=t[3],n=t[4]);let r;return t[5]===Symbol.for(`react.memo_cache_sentinel`)?(r=(0,M.jsxs)(`div`,{className:`py-12 text-center text-slate-400`,children:[e,n,(0,M.jsx)(te,{to:`/music`,search:{tab:`playlists`},className:`mt-4 inline-block text-amber-400 hover:underline`,children:`Back to Playlists`})]}),t[5]=r):r=t[5],r}let c;return t[6]!==a.data||t[7]!==r?(c=(0,M.jsx)(_e,{playlistId:r,data:a.data}),t[6]=a.data,t[7]=r,t[8]=c):c=t[8],c}function _e(e){let n=(0,me.c)(120),{playlistId:i,data:c}=e,l=S.useNavigate(),m=ie(),h=ce(),[g,_]=(0,A.useState)(!1),{playlist:v,track_count:y,duration:b,is_owner:w,can_edit:de}=c,O=v.cover_image?.Valid?v.cover_image.String:null,fe=v.description?.Valid?v.description.String:null,j=`${v.name} - Igloo`,he=v.name,ge;n[0]===b?ge=n[1]:(ge=x(b),n[0]=b,n[1]=ge);let _e=`Listen to ${he} - ${y} tracks, ${ge} in your Igloo playlist.`,we;n[2]===i?we=n[3]:(we=le(i),n[2]=i,n[3]=we);let{data:Ee,fetchNextPage:De,hasNextPage:Oe,isFetchingNextPage:ke,isLoading:Ae}=t(we),je;n[4]===Ee?.pages?je=n[5]:(je=Ee?.pages.flatMap(Ce)??[],n[4]=Ee?.pages,n[5]=je);let N=je,P;n[6]===i?P=n[7]:(P=()=>ae(i),n[6]=i,n[7]=P);let Me;n[8]!==l||n[9]!==m?(Me=e=>{if(e.error){D(`delete playlist`,e.message);return}m.invalidateQueries({queryKey:[C]}),E(`Playlist`),l({to:`/music`,search:{tab:`playlists`}})},n[8]=l,n[9]=m,n[10]=Me):Me=n[10];let Ne;n[11]!==P||n[12]!==Me?(Ne={mutationFn:P,onSuccess:Me,onError:Se},n[11]=P,n[12]=Me,n[13]=Ne):Ne=n[13];let F=a(Ne),I;n[14]===i?I=n[15]:(I=e=>oe(i,e),n[14]=i,n[15]=I);let L;n[16]!==i||n[17]!==m?(L=()=>{m.invalidateQueries({queryKey:[ne,i]}),m.invalidateQueries({queryKey:[C]}),ue(`Track`,`from playlist`)},n[16]=i,n[17]=m,n[18]=L):L=n[18];let Pe;n[19]!==I||n[20]!==L?(Pe={mutationFn:I,onSuccess:L,onError:xe},n[19]=I,n[20]=L,n[21]=Pe):Pe=n[21];let Fe=a(Pe),R;n[22]===i?R=n[23]:(R=e=>se(i,e),n[22]=i,n[23]=R);let z,B;n[24]!==i||n[25]!==m?(z=e=>{if(e.error){D(`reorder tracks`,e.message),m.invalidateQueries({queryKey:[ne,i]});return}m.invalidateQueries({queryKey:[ne,i]})},B=()=>{D(`reorder tracks`),m.invalidateQueries({queryKey:[ne,i]})},n[24]=i,n[25]=m,n[26]=z,n[27]=B):(z=n[26],B=n[27]);let Ie;n[28]!==R||n[29]!==z||n[30]!==B?(Ie={mutationFn:R,onSuccess:z,onError:B},n[28]=R,n[29]=z,n[30]=B,n[31]=Ie):Ie=n[31];let Le=a(Ie),Re;n[32]!==N||n[33]!==h||n[34]!==O||n[35]!==v.name?(Re=()=>{if(!N.length)return;let e=N.map(be);h.playTrack(e[0],e,{cover:O,title:v.name,musician:null})},n[32]=N,n[33]=h,n[34]=O,n[35]=v.name,n[36]=Re):Re=n[36];let ze=Re,Be;n[37]!==N||n[38]!==h||n[39]!==O||n[40]!==v.name?(Be=()=>{if(!N.length)return;let e=[...N].sort(ye).map(ve);h.playTrack(e[0],e,{cover:O,title:v.name,musician:null})},n[37]=N,n[38]=h,n[39]=O,n[40]=v.name,n[41]=Be):Be=n[41];let Ve=Be,He;n[42]!==F||n[43]!==v.name?(He=()=>{window.confirm(`Are you sure you want to delete "${v.name}"? This action cannot be undone.`)&&F.mutate()},n[42]=F,n[43]=v.name,n[44]=He):He=n[44];let Ue=He,We=v.name,Ge;n[45]===b?Ge=n[46]:(Ge=x(b),n[45]=b,n[46]=Ge);let Ke=`${We}. ${y} ${y===1?`track`:`tracks`}. Total duration: ${Ge}.`,V;n[47]===j?V=n[48]:(V=(0,M.jsx)(`title`,{children:j}),n[47]=j,n[48]=V);let H;n[49]===_e?H=n[50]:(H=(0,M.jsx)(`meta`,{name:`description`,content:_e}),n[49]=_e,n[50]=H);let U;n[51]!==Ke||n[52]!==v.name||n[53]!==y?(U=(0,M.jsxs)(`span`,{tabIndex:0,className:`sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:rounded-md focus:bg-slate-800 focus:px-4 focus:py-2 focus:text-white focus:ring-2 focus:ring-amber-400 focus:outline-none`,"aria-label":Ke,children:[v.name,` - `,y,` tracks`]}),n[51]=Ke,n[52]=v.name,n[53]=y,n[54]=U):U=n[54];let W;n[55]!==O||n[56]!==v.name?(W=(0,M.jsx)(`figure`,{className:`mx-auto shrink-0 lg:mx-0`,children:(0,M.jsx)(`div`,{className:`aspect-square w-40 overflow-hidden rounded-xl border border-amber-500/20 bg-slate-800 shadow-2xl shadow-amber-500/10 sm:w-48 lg:w-56 xl:w-64`,children:O?(0,M.jsx)(`img`,{src:O,alt:v.name,className:`size-full object-cover`}):(0,M.jsx)(`div`,{className:`flex size-full items-center justify-center bg-linear-to-br from-slate-700 via-slate-800 to-cyan-900/30`,children:(0,M.jsx)(s,{className:`size-16 text-cyan-200/20`,"aria-hidden":`true`})})})}),n[55]=O,n[56]=v.name,n[57]=W):W=n[57];let G;n[58]===v.name?G=n[59]:(G=(0,M.jsx)(`h1`,{id:`playlist-name`,className:`text-2xl font-bold text-white sm:truncate sm:text-3xl md:text-4xl lg:text-5xl`,title:v.name,children:v.name}),n[58]=v.name,n[59]=G);let K;n[60]===fe?K=n[61]:(K=fe&&(0,M.jsx)(`p`,{className:`mt-2 line-clamp-2 text-sm text-slate-400 sm:mt-3 sm:line-clamp-none sm:text-base md:max-w-2xl`,children:fe}),n[60]=fe,n[61]=K);let qe;n[62]===Symbol.for(`react.memo_cache_sentinel`)?(qe=(0,M.jsx)(ee,{className:`size-4 text-slate-400`,"aria-hidden":`true`}),n[62]=qe):qe=n[62];let Je=y===1?`track`:`tracks`,q;n[63]!==Je||n[64]!==y?(q=(0,M.jsxs)(`li`,{className:`flex items-center gap-1.5`,children:[qe,(0,M.jsxs)(`span`,{children:[y,` `,Je]})]}),n[63]=Je,n[64]=y,n[65]=q):q=n[65];let Ye;n[66]===Symbol.for(`react.memo_cache_sentinel`)?(Ye=(0,M.jsx)(u,{className:`size-4 text-slate-400`,"aria-hidden":`true`}),n[66]=Ye):Ye=n[66];let J;n[67]===b?J=n[68]:(J=x(b),n[67]=b,n[68]=J);let Y;n[69]===J?Y=n[70]:(Y=(0,M.jsxs)(`li`,{className:`flex items-center gap-1.5`,children:[Ye,(0,M.jsx)(`span`,{children:J})]}),n[69]=J,n[70]=Y);let X;n[71]===w?X=n[72]:(X=w&&(0,M.jsxs)(`li`,{className:`flex items-center gap-1.5`,children:[(0,M.jsx)(p,{className:`size-4 text-amber-500`,"aria-hidden":`true`}),(0,M.jsx)(`span`,{className:`text-amber-400`,children:`Owner`})]}),n[71]=w,n[72]=X);let Z;n[73]!==q||n[74]!==Y||n[75]!==X?(Z=(0,M.jsxs)(`ul`,{className:`mt-4 flex flex-wrap items-center justify-center gap-x-3 gap-y-2 text-xs text-slate-400 sm:gap-x-4 sm:text-sm lg:justify-start lg:text-base`,"aria-label":`Playlist statistics`,children:[q,Y,X]}),n[73]=q,n[74]=Y,n[75]=X,n[76]=Z):Z=n[76];let Q;n[77]!==ze||n[78]!==Ve||n[79]!==y?(Q=y>0&&(0,M.jsxs)(`div`,{className:`mt-5 flex flex-col justify-center gap-2 sm:mt-6 sm:flex-row sm:gap-3 lg:justify-start`,children:[(0,M.jsxs)(`button`,{onClick:ze,className:`inline-flex items-center justify-center gap-2 rounded-full bg-amber-500 px-5 py-2.5 text-sm font-semibold text-slate-900 shadow-lg shadow-amber-500/20 transition-colors hover:bg-amber-400 focus:ring-2 focus:ring-amber-400 focus:ring-offset-2 focus:ring-offset-slate-900 focus:outline-none sm:px-6 sm:py-3 sm:text-base`,"aria-label":`Play all ${y} tracks`,children:[(0,M.jsx)(re,{className:`size-4 fill-current`,"aria-hidden":`true`}),`Play All`]}),(0,M.jsxs)(`button`,{onClick:Ve,className:`inline-flex items-center justify-center gap-2 rounded-full border border-slate-600 bg-slate-700 px-5 py-2.5 text-sm font-semibold text-white transition-colors hover:bg-slate-600 focus:ring-2 focus:ring-amber-400 focus:ring-offset-2 focus:ring-offset-slate-900 focus:outline-none sm:px-6 sm:py-3 sm:text-base`,"aria-label":`Shuffle all ${y} tracks`,children:[(0,M.jsx)(d,{className:`size-4`,"aria-hidden":`true`}),`Shuffle`]})]}),n[77]=ze,n[78]=Ve,n[79]=y,n[80]=Q):Q=n[80];let Xe;n[81]!==F||n[82]!==Ue||n[83]!==w?(Xe=w&&(0,M.jsxs)(`div`,{className:`mt-4 flex flex-wrap justify-center gap-3 sm:gap-4 lg:justify-start`,children:[(0,M.jsxs)(`button`,{onClick:()=>_(!0),className:`inline-flex items-center gap-1.5 text-xs text-slate-400 transition-colors hover:text-amber-400 focus:text-amber-400 focus:outline-none sm:gap-2 sm:text-sm`,"aria-label":`Edit playlist`,children:[(0,M.jsx)(k,{className:`size-4`,"aria-hidden":`true`}),(0,M.jsx)(`span`,{children:`Edit`}),(0,M.jsx)(`span`,{className:`hidden sm:inline`,children:`Details`})]}),(0,M.jsxs)(`button`,{onClick:Ue,disabled:F.isPending,className:`inline-flex items-center gap-1.5 text-xs text-slate-400 transition-colors hover:text-red-400 focus:text-red-400 focus:outline-none disabled:opacity-50 sm:gap-2 sm:text-sm`,"aria-label":`Delete playlist`,children:[F.isPending?(0,M.jsx)(T,{className:`size-4`}):(0,M.jsx)(f,{className:`size-4`,"aria-hidden":`true`}),(0,M.jsx)(`span`,{children:`Delete`}),(0,M.jsx)(`span`,{className:`hidden sm:inline`,children:`Playlist`})]})]}),n[81]=F,n[82]=Ue,n[83]=w,n[84]=Xe):Xe=n[84];let Ze;n[85]!==G||n[86]!==K||n[87]!==Z||n[88]!==Q||n[89]!==Xe?(Ze=(0,M.jsxs)(`div`,{className:`flex max-w-full min-w-0 flex-1 flex-col overflow-hidden text-center lg:text-left`,children:[G,K,Z,Q,Xe]}),n[85]=G,n[86]=K,n[87]=Z,n[88]=Q,n[89]=Xe,n[90]=Ze):Ze=n[90];let Qe;n[91]!==W||n[92]!==Ze?(Qe=(0,M.jsxs)(`header`,{className:`mb-8 flex flex-col gap-6 sm:mb-10 sm:gap-8 lg:flex-row`,children:[W,Ze]}),n[91]=W,n[92]=Ze,n[93]=Qe):Qe=n[93];let $e;n[94]===Symbol.for(`react.memo_cache_sentinel`)?($e=(0,M.jsxs)(`h2`,{id:`tracks-heading`,className:`mb-4 flex items-center gap-2 text-xl font-semibold text-white`,children:[(0,M.jsx)(r,{className:`size-5 text-amber-400`,"aria-hidden":`true`}),`Tracks`]}),n[94]=$e):$e=n[94];let et;n[95]!==N||n[96]!==de||n[97]!==O||n[98]!==De||n[99]!==Oe||n[100]!==ke||n[101]!==Ae||n[102]!==v.name||n[103]!==i||n[104]!==Fe||n[105]!==Le?(et=(0,M.jsxs)(`section`,{"aria-labelledby":`tracks-heading`,children:[$e,Ae?(0,M.jsx)(`div`,{className:`flex justify-center py-12`,children:(0,M.jsx)(T,{className:`size-8 text-amber-400`})}):N.length===0?(0,M.jsxs)(`div`,{className:`rounded-xl border border-amber-500/10 bg-slate-800/30 py-12 text-center`,children:[(0,M.jsx)(`div`,{className:`mx-auto mb-4 flex size-16 items-center justify-center rounded-full bg-linear-to-br from-slate-700 via-slate-800 to-cyan-900/40`,children:(0,M.jsx)(ee,{className:`size-6 text-cyan-200/40`,"aria-hidden":`true`})}),(0,M.jsx)(`p`,{className:`text-slate-300`,children:`No tracks in this playlist yet.`}),(0,M.jsx)(`p`,{className:`mt-2 text-sm text-slate-400`,children:`Add tracks from your library to get started.`})]}):(0,M.jsx)(Te,{playlistId:i,tracks:N,canEdit:de,hasNextPage:Oe,isFetchingNextPage:ke,fetchNextPage:De,onRemoveTrack:e=>Fe.mutate(e),onReorderTracks:e=>Le.mutate(e),playlistName:v.name,coverUrl:O})]}),n[95]=N,n[96]=de,n[97]=O,n[98]=De,n[99]=Oe,n[100]=ke,n[101]=Ae,n[102]=v.name,n[103]=i,n[104]=Fe,n[105]=Le,n[106]=et):et=n[106];let tt;n[107]===Symbol.for(`react.memo_cache_sentinel`)?(tt={tab:`playlists`},n[107]=tt):tt=n[107];let nt;n[108]===Symbol.for(`react.memo_cache_sentinel`)?(nt=(0,M.jsx)(`nav`,{className:`mt-8`,"aria-label":`Page navigation`,children:(0,M.jsxs)(te,{to:`/music`,search:tt,className:`inline-flex items-center gap-2 text-slate-400 transition-colors hover:text-white focus:text-amber-400 focus:ring-2 focus:ring-amber-400 focus:outline-none`,"aria-label":`Back to Playlists`,children:[(0,M.jsx)(o,{className:`size-4`,"aria-hidden":`true`}),`Back to Playlists`]})}),n[108]=nt):nt=n[108];let $;n[109]!==w||n[110]!==v||n[111]!==g?($=w&&(0,M.jsx)(pe,{open:g,onOpenChange:_,playlist:v}),n[109]=w,n[110]=v,n[111]=g,n[112]=$):$=n[112];let rt;return n[113]!==V||n[114]!==H||n[115]!==U||n[116]!==Qe||n[117]!==et||n[118]!==$?(rt=(0,M.jsxs)(`article`,{className:`w-full max-w-full animate-in overflow-x-hidden duration-300 fade-in`,"aria-labelledby":`playlist-name`,children:[V,H,U,Qe,et,nt,$]}),n[113]=V,n[114]=H,n[115]=U,n[116]=Qe,n[117]=et,n[118]=$,n[119]=rt):rt=n[119],rt}function ve(e){return g({id:e.id,title:e.title,file_path:e.file_path,duration:e.duration,codec:e.codec,bit_rate:e.bit_rate,album_id:e.album_id,musician_id:e.musician_id,album_cover:e.album_cover,musician_name:e.musician_name})}function ye(){return Math.random()-.5}function be(e){return g({id:e.id,title:e.title,file_path:e.file_path,duration:e.duration,codec:e.codec,bit_rate:e.bit_rate,album_id:e.album_id,musician_id:e.musician_id,album_cover:e.album_cover,musician_name:e.musician_name})}function xe(){D(`remove track`)}function Se(){D(`delete playlist`)}function Ce(e){return e.error===!1?e.data?.tracks??[]:[]}var we=200;function Te(e){let t=(0,me.c)(54),{playlistId:r,tracks:i,canEdit:a,hasNextPage:o,isFetchingNextPage:s,fetchNextPage:l,onRemoveTrack:u,onReorderTracks:ee,playlistName:d,coverUrl:f}=e,p=ce(),te=(0,A.useRef)(null),[m,ne]=(0,A.useState)(0),[h,re]=(0,A.useState)(i),_,v;t[0]===i?(_=t[1],v=t[2]):(_=()=>{re(i)},v=[i],t[0]=i,t[1]=_,t[2]=v),(0,A.useEffect)(_,v);let y,b;t[3]===Symbol.for(`react.memo_cache_sentinel`)?(y=()=>{te.current&&ne(te.current.offsetTop)},b=[],t[3]=y,t[4]=b):(y=t[3],b=t[4]),(0,A.useEffect)(y,b);let x;t[5]!==h.length||t[6]!==m?(x={count:h.length,estimateSize:ke,overscan:5,scrollMargin:m},t[5]=h.length,t[6]=m,t[7]=x):x=t[7];let S=n(x),C=S.getVirtualItems();(0,A.useEffect)(()=>{if(C.length===0)return;let e=C[C.length-1];e&&e.index>=h.length-10&&o&&!s&&l()},[C,h.length,o,s,l]);let ie;t[8]!==p||t[9]!==f||t[10]!==h||t[11]!==d?(ie=e=>{let t=g({id:e.id,title:e.title,file_path:e.file_path,duration:e.duration,codec:e.codec,bit_rate:e.bit_rate,album_id:e.album_id,musician_id:e.musician_id,album_cover:e.album_cover,musician_name:e.musician_name}),n=h.map(Oe);p.playTrack(t,n,{cover:f,title:d,musician:null})},t[8]=p,t[9]=f,t[10]=h,t[11]=d,t[12]=ie):ie=t[12];let w=ie,ae;t[13]!==ee||t[14]!==h?(ae=e=>{let t=new Map(h.map(De));re(e.map(e=>t.get(e)).filter(Ee)),ee(e)},t[13]=ee,t[14]=h,t[15]=ae):ae=t[15];let oe=ae;if(a&&h.length<=we&&!o){let e;t[16]===Symbol.for(`react.memo_cache_sentinel`)?(e=(0,M.jsx)(`div`,{className:`flex justify-center rounded-xl border border-amber-500/10 bg-slate-800/30 py-12`,children:(0,M.jsx)(T,{className:`size-8 text-amber-400`})}),t[16]=e):e=t[16];let n=p.currentTrack?.id,i;t[17]!==p.isPlaying||t[18]!==a||t[19]!==f||t[20]!==w||t[21]!==oe||t[22]!==u||t[23]!==h||t[24]!==r||t[25]!==d||t[26]!==n?(i=(0,M.jsx)(A.Suspense,{fallback:e,children:(0,M.jsx)(he,{tracks:h,playlistId:r,playlistName:d,coverUrl:f,canEdit:a,onReorder:oe,onPlayTrack:w,onRemoveTrack:u,currentTrackId:n,isPlaying:p.isPlaying})}),t[17]=p.isPlaying,t[18]=a,t[19]=f,t[20]=w,t[21]=oe,t[22]=u,t[23]=h,t[24]=r,t[25]=d,t[26]=n,t[27]=i):i=t[27];let o;t[28]===s?o=t[29]:(o=s&&(0,M.jsx)(`div`,{className:`flex justify-center py-4`,children:(0,M.jsx)(T,{className:`size-6 text-amber-400`})}),t[28]=s,t[29]=o);let c;return t[30]!==i||t[31]!==o?(c=(0,M.jsxs)(M.Fragment,{children:[i,o]}),t[30]=i,t[31]=o,t[32]=c):c=t[32],c}let se;t[33]===S?se=t[34]:(se=S.getTotalSize(),t[33]=S,t[34]=se);let le=`${se}px`,E;t[35]===le?E=t[36]:(E={height:le,width:`100%`,position:`relative`},t[35]=le,t[36]=E);let ue;t[37]!==p.currentTrack?.id||t[38]!==p.isPlaying||t[39]!==a||t[40]!==w||t[41]!==u||t[42]!==h||t[43]!==r||t[44]!==m?(ue=e=>{let t=h[e.index];return t?(0,M.jsx)(`div`,{style:{position:`absolute`,top:0,left:0,width:`100%`,height:`${e.size}px`,transform:`translateY(${e.start-m}px)`},children:(0,M.jsx)(c,{id:t.id,title:t.title,duration:t.duration,subtitle:fe(t.musician_name)??`Unknown Artist`,albumId:O(t.album_id),albumTitle:de(t.album_title),musicianId:O(t.musician_id),musicianName:de(t.musician_name),variant:`playlist`,isPlaying:p.currentTrack?.id===t.id&&p.isPlaying,isCurrentTrack:p.currentTrack?.id===t.id,onPlay:()=>w(t),showActionsMenu:!0,playlistId:r,canRemoveFromPlaylist:a,onRemoveFromPlaylist:()=>u(t.id)})},e.key):null},t[37]=p.currentTrack?.id,t[38]=p.isPlaying,t[39]=a,t[40]=w,t[41]=u,t[42]=h,t[43]=r,t[44]=m,t[45]=ue):ue=t[45];let D=C.map(ue),k;t[46]!==E||t[47]!==D?(k=(0,M.jsx)(`div`,{style:E,children:D}),t[46]=E,t[47]=D,t[48]=k):k=t[48];let j;t[49]===s?j=t[50]:(j=s&&(0,M.jsx)(`div`,{className:`flex justify-center py-4`,children:(0,M.jsx)(T,{className:`size-6 text-amber-400`})}),t[49]=s,t[50]=j);let pe;return t[51]!==k||t[52]!==j?(pe=(0,M.jsxs)(`div`,{ref:te,className:`overflow-hidden rounded-xl border border-amber-500/10 bg-slate-800/30`,children:[k,j]}),t[51]=k,t[52]=j,t[53]=pe):pe=t[53],pe}function Ee(e){return e!==void 0}function De(e){return[e.id,e]}function Oe(e){return g({id:e.id,title:e.title,file_path:e.file_path,duration:e.duration,codec:e.codec,bit_rate:e.bit_rate,album_id:e.album_id,musician_id:e.musician_id,album_cover:e.album_cover,musician_name:e.musician_name})}function ke(){return 60}export{ge as component};