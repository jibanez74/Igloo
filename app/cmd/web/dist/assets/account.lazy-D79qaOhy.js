import{t as e}from"./useQuery-DYliyyeq.js";import{a as t,i as n,n as r,o as i,r as a,s as o,t as s}from"./dialog-BHOyGAmv.js";import{t as c}from"./image-DXC7vmCi.js";import{n as ee,t as te}from"./mail-CHhIb2Nw.js";import{t as ne}from"./trash-2-CWBGQmm5.js";import{t as re}from"./user-wQOA0tR5.js";import{Mt as l,Ot as u,T as d,Y as ie,Z as ae,at as oe,d as se,dt as ce,en as f,ft as le,jt as ue,kt as p,mt as de,pt as fe,q as m,rt as pe,tn as h,yt as g}from"./index-B4Mm07st.js";import{a as _,r as me}from"./dist-D9YK6Fjb.js";import"./dist-DoMa5iEY.js";import"./dist-m3SJwciI.js";import{a as v,c as he,t as y}from"./toast-helpers-N18T5b5Z.js";import{t as b}from"./button-DUpsrK_w.js";import"./dist-DRYwAtpY.js";import{t as x}from"./input-COadufZY.js";import{t as S}from"./label-oJjLCjTp.js";import{n as C,t as ge}from"./separator-DrHXCcUv.js";import{a as _e,i as ve,n as w,r as ye,t as T}from"./card-oiowJjLi.js";var be=u(`triangle-alert`,[[`path`,{d:`m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3`,key:`wmoenq`}],[`path`,{d:`M12 9v4`,key:`juzpu7`}],[`path`,{d:`M12 17h.01`,key:`p32p05`}]]),xe=u(`upload`,[[`path`,{d:`M12 3v12`,key:`1x0j5s`}],[`path`,{d:`m17 8-5-5-5 5`,key:`7q97r8`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}]]),Se=p(),E=h(f(),1),D=l();function O(e,t=[]){let n=[];function r(t,r){let i=E.createContext(r);i.displayName=t+`Context`;let a=n.length;n=[...n,r];let o=t=>{let{scope:n,children:r,...o}=t,s=n?.[e]?.[a]||i,c=E.useMemo(()=>o,Object.values(o));return(0,D.jsx)(s.Provider,{value:c,children:r})};o.displayName=t+`Provider`;function s(n,o){let s=o?.[e]?.[a]||i,c=E.useContext(s);if(c)return c;if(r!==void 0)return r;throw Error(`\`${n}\` must be used within \`${t}\``)}return[o,s]}let i=()=>{let t=n.map(e=>E.createContext(e));return function(n){let r=n?.[e]||t;return E.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return i.scopeName=e,[r,Ce(i,...t)]}function Ce(...e){let t=e[0];if(e.length===1)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=n.reduce((t,{useScope:n,scopeName:r})=>{let i=n(e)[`__scope${r}`];return{...t,...i}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}var k=ae();function we(){return(0,k.useSyncExternalStore)(A,()=>!0,()=>!1)}function A(){return()=>{}}var Te=`Avatar`,[j,Ee]=O(Te),[De,M]=j(Te),N=E.forwardRef((e,t)=>{let{__scopeAvatar:n,...r}=e,[i,a]=E.useState(`idle`);return(0,D.jsx)(De,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:(0,D.jsx)(C.span,{...r,ref:t})})});N.displayName=Te;var P=`AvatarImage`,F=E.forwardRef((e,t)=>{let{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=M(P,n),s=Oe(r,a),c=me(e=>{i(e),o.onImageLoadingStatusChange(e)});return _(()=>{s!==`idle`&&c(s)},[s,c]),s===`loaded`?(0,D.jsx)(C.img,{...a,ref:t,src:r}):null});F.displayName=P;var I=`AvatarFallback`,L=E.forwardRef((e,t)=>{let{__scopeAvatar:n,delayMs:r,...i}=e,a=M(I,n),[o,s]=E.useState(r===void 0);return E.useEffect(()=>{if(r!==void 0){let e=window.setTimeout(()=>s(!0),r);return()=>window.clearTimeout(e)}},[r]),o&&a.imageLoadingStatus!==`loaded`?(0,D.jsx)(C.span,{...i,ref:t}):null});L.displayName=I;function R(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?`loaded`:`loading`):`error`:`idle`}function Oe(e,{referrerPolicy:t,crossOrigin:n}){let r=we(),i=E.useRef(null),a=(()=>r?(i.current||=new window.Image,i.current):null)(),[o,s]=E.useState(()=>R(a,e));return _(()=>{s(R(a,e))},[a,e]),_(()=>{let e=e=>()=>{s(e)};if(!a)return;let r=e(`loaded`),i=e(`error`);return a.addEventListener(`load`,r),a.addEventListener(`error`,i),t&&(a.referrerPolicy=t),typeof n==`string`&&(a.crossOrigin=n),()=>{a.removeEventListener(`load`,r),a.removeEventListener(`error`,i)}},[a,n,t]),o}var ke=N,Ae=F,je=L;function Me(e){let t=(0,Se.c)(8),n,r;t[0]===e?(n=t[1],r=t[2]):({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r);let i;t[3]===n?i=t[4]:(i=g(`relative flex size-8 shrink-0 overflow-hidden rounded-full`,n),t[3]=n,t[4]=i);let a;return t[5]!==r||t[6]!==i?(a=(0,D.jsx)(ke,{"data-slot":`avatar`,className:i,...r}),t[5]=r,t[6]=i,t[7]=a):a=t[7],a}function Ne(e){let t=(0,Se.c)(8),n,r;t[0]===e?(n=t[1],r=t[2]):({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r);let i;t[3]===n?i=t[4]:(i=g(`aspect-square size-full`,n),t[3]=n,t[4]=i);let a;return t[5]!==r||t[6]!==i?(a=(0,D.jsx)(Ae,{"data-slot":`avatar-image`,className:i,...r}),t[5]=r,t[6]=i,t[7]=a):a=t[7],a}function Pe(e){let t=(0,Se.c)(8),n,r;t[0]===e?(n=t[1],r=t[2]):({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r);let i;t[3]===n?i=t[4]:(i=g(`flex size-full items-center justify-center rounded-full bg-muted`,n),t[3]=n,t[4]=i);let a;return t[5]!==r||t[6]!==i?(a=(0,D.jsx)(je,{"data-slot":`avatar-fallback`,className:i,...r}),t[5]=r,t[6]=i,t[7]=a):a=t[7],a}var Fe=p();const Ie=m(`/_auth/settings/account`)({component:Le});function Le(){let l=(0,Fe.c)(177),u=ue(),ae=ie(),ce;l[0]===Symbol.for(`react.memo_cache_sentinel`)?(ce=se(),l[0]=ce):ce=l[0];let{data:f,isLoading:le}=e(ce),[p,de]=(0,E.useState)(!1),[fe,m]=(0,E.useState)(!1),[h,g]=(0,E.useState)(``),_=f?.error===!1&&f.data?.user?f.data.user:null,me;l[1]===_?.name?me=l[2]:(me=()=>_?.name??``,l[1]=_?.name,l[2]=me);let[C,Se]=(0,E.useState)(me),[O,Ce]=(0,E.useState)(``),[k,we]=(0,E.useState)(``),[A,Te]=(0,E.useState)(``),[j,Ee]=(0,E.useState)(``);_?.name&&!C&&Se(_.name);let De;l[3]===u?De=l[4]:(De={mutationFn:He,onMutate:async e=>{await u.cancelQueries({queryKey:[d]});let t=u.getQueryData([d]);return u.setQueryData([d],t=>!t||t.error||!t.data?.user?t:{...t,data:{...t.data,user:{...t.data.user,name:e}}}),{previousData:t}},onError:(e,t,n)=>{n?.previousData&&u.setQueryData([d],n.previousData),y(`update name`,e instanceof Error?e.message:`An error occurred`)},onSuccess:e=>{e.error?(y(`update name`,e.message),u.invalidateQueries({queryKey:[d]})):he(`Name updated successfully`)}},l[3]=u,l[4]=De);let M=o(De),N;l[5]===Symbol.for(`react.memo_cache_sentinel`)?(N={mutationFn:Ve,onSuccess:e=>{e.error?y(`update password`,e.message):(he(`Password updated successfully`),Ce(``),we(``),Te(``))},onError:Be},l[5]=N):N=l[5];let P=o(N),F;l[6]===u?F=l[7]:(F={mutationFn:ze,onMutate:async e=>{await u.cancelQueries({queryKey:[d]});let t=u.getQueryData([d]);return u.setQueryData([d],t=>!t||t.error||!t.data?.user?t:{...t,data:{...t.data,user:{...t.data.user,avatar:e}}}),{previousData:t}},onError:(e,t,n)=>{n?.previousData&&u.setQueryData([d],n.previousData),y(`update avatar`,e instanceof Error?e.message:`An error occurred`)},onSuccess:e=>{e.error?(y(`update avatar`,e.message),u.invalidateQueries({queryKey:[d]})):(he(`Avatar updated successfully`),Ee(``))}},l[6]=u,l[7]=F);let I=o(F),L;l[8]===u?L=l[9]:(L={mutationFn:Re,onMutate:async()=>(await u.cancelQueries({queryKey:[d]}),{previousData:u.getQueryData([d])}),onError:(e,t,n)=>{n?.previousData&&u.setQueryData([d],n.previousData),y(`upload avatar`,e instanceof Error?e.message:`An error occurred`)},onSuccess:e=>{e.error?(y(`upload avatar`,e.message),u.invalidateQueries({queryKey:[d]})):(he(`Avatar uploaded successfully`),e.data?.user&&u.setQueryData([d],{error:!1,data:{user:e.data.user}}))}},l[8]=u,l[9]=L);let R=o(L),Oe;l[10]!==C||l[11]!==M||l[12]!==_?(Oe=()=>{if(!_||!C.trim()){v(`Name is required`);return}if(C.trim()!==_.name){if(C.length>100){v(`Name must be 100 characters or less`);return}M.mutate(C.trim())}},l[10]=C,l[11]=M,l[12]=_,l[13]=Oe):Oe=l[13];let ke=Oe,Ae;l[14]!==A||l[15]!==O||l[16]!==k||l[17]!==P?(Ae=()=>{if(!O||!k){v(`Current and new password are required`);return}if(k.length<9){v(`New password must be at least 9 characters`);return}if(k.length>128){v(`New password must be 128 characters or less`);return}if(k!==A){v(`New passwords do not match`);return}P.mutate({currentPassword:O,newPassword:k})},l[14]=A,l[15]=O,l[16]=k,l[17]=P,l[18]=Ae):Ae=l[18];let je=Ae,Ie;l[19]!==j||l[20]!==I?(Ie=()=>{if(!j.trim()){v(`Avatar URL is required`);return}I.mutate(j.trim())},l[19]=j,l[20]=I,l[21]=Ie):Ie=l[21];let Le=Ie,Ue;l[22]===R?Ue=l[23]:(Ue=e=>{let t=e.target.files?.[0];if(t){if(![`image/jpeg`,`image/png`,`image/gif`,`image/webp`,`image/avif`].includes(t.type)){v(`Invalid file type`,`Allowed: JPEG, PNG, GIF, WebP, AVIF`),e.target.value=``;return}if(t.size>20971520){v(`File too large`,`Maximum size is 20MB`),e.target.value=``;return}R.mutate(t),e.target.value=``}},l[22]=R,l[23]=Ue);let We=Ue,Ge;l[24]!==h||l[25]!==ae||l[26]!==u?(Ge=async()=>{if(h!==`DELETE`){v(`Please type DELETE to confirm`);return}de(!0);try{let e=await pe();e.error?(y(`delete account`,e.message),de(!1),m(!1),g(``)):(he(`Account deleted successfully`),await oe(),u.clear(),ae({to:`/login`,replace:!0}))}catch{v(`Failed to delete account`),de(!1),m(!1),g(``)}},l[24]=h,l[25]=ae,l[26]=u,l[27]=Ge):Ge=l[27];let Ke=Ge,qe;l[28]===_?qe=l[29]:(qe=()=>{if(!_?.avatar)return null;let e=typeof _.avatar==`string`?_.avatar:String(_.avatar||``);return e?(e.startsWith(`/api/`),e):null},l[28]=_,l[29]=qe);let Je=qe,Ye;l[30]===_?Ye=l[31]:(Ye=()=>{if(!_?.name)return`U`;let e=_.name.trim().split(/\s+/);return e.length>=2?`${e[0][0]}${e[e.length-1][0]}`.toUpperCase():_.name[0].toUpperCase()},l[30]=_,l[31]=Ye);let Xe=Ye;if(le){let e;return l[32]===Symbol.for(`react.memo_cache_sentinel`)?(e=(0,D.jsx)(`div`,{className:`space-y-8`,children:(0,D.jsx)(T,{className:`border-slate-700/50 bg-slate-800/30`,children:(0,D.jsx)(w,{className:`pt-6`,children:(0,D.jsx)(`p`,{className:`text-slate-300`,children:`Loading user information...`})})})}),l[32]=e):e=l[32],e}if(f?.error||!_){let e=f?.error?f.message||`Failed to load user information`:`User information not available`,t;return l[33]===e?t=l[34]:(t=(0,D.jsx)(`div`,{className:`space-y-8`,children:(0,D.jsx)(T,{className:`border-slate-700/50 bg-slate-800/30`,children:(0,D.jsx)(w,{className:`pt-6`,children:(0,D.jsx)(`p`,{className:`text-red-400`,children:e})})})}),l[33]=e,l[34]=t),t}let Ze;l[35]===Symbol.for(`react.memo_cache_sentinel`)?(Ze=(0,D.jsxs)(ve,{children:[(0,D.jsxs)(_e,{className:`flex items-center gap-2 text-white`,children:[(0,D.jsx)(re,{className:`size-5 text-amber-400`,"aria-hidden":`true`}),`Profile Information`]}),(0,D.jsx)(ye,{className:`text-slate-300`,children:`Manage your account information and preferences`})]}),l[35]=Ze):Ze=l[35];let Qe;l[36]===Symbol.for(`react.memo_cache_sentinel`)?(Qe=(0,D.jsx)(S,{htmlFor:`email`,className:`text-slate-300`,children:`Email`}),l[36]=Qe):Qe=l[36];let $e;l[37]===Symbol.for(`react.memo_cache_sentinel`)?($e=(0,D.jsx)(te,{className:`absolute top-1/2 left-3 size-4 -translate-y-1/2 text-slate-400`}),l[37]=$e):$e=l[37];let z;l[38]===_.email?z=l[39]:(z=(0,D.jsxs)(`div`,{className:`relative`,children:[$e,(0,D.jsx)(x,{id:`email`,type:`email`,value:_.email,disabled:!0,className:`pl-9 text-slate-400`,"aria-label":`Email address (cannot be changed)`})]}),l[38]=_.email,l[39]=z);let et;l[40]===Symbol.for(`react.memo_cache_sentinel`)?(et=(0,D.jsx)(`p`,{className:`text-xs text-slate-400`,children:`Your email address cannot be changed`}),l[40]=et):et=l[40];let B;l[41]===z?B=l[42]:(B=(0,D.jsxs)(`div`,{className:`space-y-2`,children:[Qe,z,et]}),l[41]=z,l[42]=B);let tt;l[43]===Symbol.for(`react.memo_cache_sentinel`)?(tt=(0,D.jsx)(S,{htmlFor:`name`,className:`text-slate-300`,children:`Name`}),l[43]=tt):tt=l[43];let nt;l[44]===Symbol.for(`react.memo_cache_sentinel`)?(nt=e=>Se(e.target.value),l[44]=nt):nt=l[44];let V;l[45]===C?V=l[46]:(V=(0,D.jsx)(x,{id:`name`,type:`text`,value:C,onChange:nt,placeholder:`Enter your name`,maxLength:100,className:`flex-1`,"aria-label":`Your display name`}),l[45]=C,l[46]=V);let H;l[47]!==C||l[48]!==M.isPending||l[49]!==_.name?(H=M.isPending||C.trim()===_.name||!C.trim(),l[47]=C,l[48]=M.isPending,l[49]=_.name,l[50]=H):H=l[50];let rt=M.isPending?`Saving...`:`Save`,U;l[51]!==ke||l[52]!==H||l[53]!==rt?(U=(0,D.jsx)(b,{onClick:ke,disabled:H,variant:`accent`,children:rt}),l[51]=ke,l[52]=H,l[53]=rt,l[54]=U):U=l[54];let W;l[55]!==V||l[56]!==U?(W=(0,D.jsxs)(`div`,{className:`flex gap-2`,children:[V,U]}),l[55]=V,l[56]=U,l[57]=W):W=l[57];let it;l[58]===Symbol.for(`react.memo_cache_sentinel`)?(it=(0,D.jsx)(`p`,{className:`text-xs text-slate-400`,children:`Your display name (max 100 characters)`}),l[58]=it):it=l[58];let at;l[59]===W?at=l[60]:(at=(0,D.jsxs)(`div`,{className:`space-y-2`,children:[tt,W,it]}),l[59]=W,l[60]=at);let G;l[61]!==B||l[62]!==at?(G=(0,D.jsxs)(T,{className:`border-slate-700/50 bg-slate-800/30`,children:[Ze,(0,D.jsxs)(w,{className:`space-y-6`,children:[B,at]})]}),l[61]=B,l[62]=at,l[63]=G):G=l[63];let ot;l[64]===Symbol.for(`react.memo_cache_sentinel`)?(ot=(0,D.jsxs)(ve,{children:[(0,D.jsxs)(_e,{className:`flex items-center gap-2 text-white`,children:[(0,D.jsx)(c,{className:`size-5 text-amber-400`,"aria-hidden":`true`}),`Avatar`]}),(0,D.jsx)(ye,{className:`text-slate-300`,children:`Update your profile picture`})]}),l[64]=ot):ot=l[64];let K;l[65]!==Je||l[66]!==Xe||l[67]!==_.name?(K=Je()?(0,D.jsxs)(Me,{className:`size-20`,children:[(0,D.jsx)(Ne,{src:Je()??void 0,alt:_.name}),(0,D.jsx)(Pe,{className:`bg-amber-500/20 text-lg text-amber-400`,children:Xe()})]}):(0,D.jsx)(`div`,{className:`flex size-20 shrink-0 items-center justify-center rounded-full bg-slate-800`,children:(0,D.jsx)(re,{className:`size-10 text-slate-600`,"aria-hidden":`true`})}),l[65]=Je,l[66]=Xe,l[67]=_.name,l[68]=K):K=l[68];let q;l[69]===_.name?q=l[70]:(q=(0,D.jsx)(`p`,{className:`text-sm font-medium text-white`,children:_.name}),l[69]=_.name,l[70]=q);let J;l[71]===_.email?J=l[72]:(J=(0,D.jsx)(`p`,{className:`text-xs text-slate-400`,children:_.email}),l[71]=_.email,l[72]=J);let Y;l[73]!==q||l[74]!==J?(Y=(0,D.jsxs)(`div`,{children:[q,J]}),l[73]=q,l[74]=J,l[75]=Y):Y=l[75];let X;l[76]!==K||l[77]!==Y?(X=(0,D.jsxs)(`div`,{className:`flex items-center gap-4`,children:[K,Y]}),l[76]=K,l[77]=Y,l[78]=X):X=l[78];let st;l[79]===Symbol.for(`react.memo_cache_sentinel`)?(st=(0,D.jsx)(ge,{className:`bg-slate-700/50`}),l[79]=st):st=l[79];let ct;l[80]===Symbol.for(`react.memo_cache_sentinel`)?(ct=(0,D.jsx)(S,{className:`text-slate-300`,children:`Upload Image`}),l[80]=ct):ct=l[80];let lt;l[81]===Symbol.for(`react.memo_cache_sentinel`)?(lt=(0,D.jsx)(xe,{className:`size-4`,"aria-hidden":`true`}),l[81]=lt):lt=l[81];let ut=R.isPending?`Uploading...`:`Choose File`,Z;l[82]===ut?Z=l[83]:(Z=(0,D.jsxs)(`label`,{htmlFor:`avatar-upload`,className:`flex flex-1 cursor-pointer items-center justify-center gap-2 rounded-md border border-slate-600 bg-slate-800/50 px-4 py-2 text-sm text-slate-300 transition-colors hover:bg-slate-700/50`,children:[lt,ut]}),l[82]=ut,l[83]=Z);let dt;l[84]!==We||l[85]!==R.isPending?(dt=(0,D.jsx)(`input`,{id:`avatar-upload`,type:`file`,accept:`image/jpeg,image/png,image/gif,image/webp,image/avif`,onChange:We,disabled:R.isPending,className:`sr-only`,"aria-label":`Upload avatar image`}),l[84]=We,l[85]=R.isPending,l[86]=dt):dt=l[86];let ft;l[87]!==Z||l[88]!==dt?(ft=(0,D.jsxs)(`div`,{className:`flex gap-2`,children:[Z,dt]}),l[87]=Z,l[88]=dt,l[89]=ft):ft=l[89];let pt;l[90]===Symbol.for(`react.memo_cache_sentinel`)?(pt=(0,D.jsx)(`p`,{className:`text-xs text-slate-400`,children:`JPEG, PNG, GIF, WebP, or AVIF (max 20MB)`}),l[90]=pt):pt=l[90];let mt;l[91]===ft?mt=l[92]:(mt=(0,D.jsxs)(`div`,{className:`space-y-2`,children:[ct,ft,pt]}),l[91]=ft,l[92]=mt);let ht;l[93]===Symbol.for(`react.memo_cache_sentinel`)?(ht=(0,D.jsx)(S,{htmlFor:`avatar-url`,className:`text-slate-300`,children:`Or enter image URL`}),l[93]=ht):ht=l[93];let gt;l[94]===Symbol.for(`react.memo_cache_sentinel`)?(gt=e=>Ee(e.target.value),l[94]=gt):gt=l[94];let _t;l[95]===j?_t=l[96]:(_t=(0,D.jsx)(x,{id:`avatar-url`,type:`url`,value:j,onChange:gt,placeholder:`https://example.com/avatar.jpg`,className:`flex-1`,"aria-label":`Avatar image URL`}),l[95]=j,l[96]=_t);let vt;l[97]!==j||l[98]!==I.isPending?(vt=I.isPending||!j.trim(),l[97]=j,l[98]=I.isPending,l[99]=vt):vt=l[99];let yt=I.isPending?`Saving...`:`Set URL`,bt;l[100]!==Le||l[101]!==vt||l[102]!==yt?(bt=(0,D.jsx)(b,{onClick:Le,disabled:vt,variant:`accent`,children:yt}),l[100]=Le,l[101]=vt,l[102]=yt,l[103]=bt):bt=l[103];let xt;l[104]!==_t||l[105]!==bt?(xt=(0,D.jsxs)(`div`,{className:`space-y-2`,children:[ht,(0,D.jsxs)(`div`,{className:`flex gap-2`,children:[_t,bt]})]}),l[104]=_t,l[105]=bt,l[106]=xt):xt=l[106];let St;l[107]!==X||l[108]!==mt||l[109]!==xt?(St=(0,D.jsxs)(T,{className:`border-slate-700/50 bg-slate-800/30`,children:[ot,(0,D.jsxs)(w,{className:`space-y-6`,children:[X,st,mt,xt]})]}),l[107]=X,l[108]=mt,l[109]=xt,l[110]=St):St=l[110];let Ct;l[111]===Symbol.for(`react.memo_cache_sentinel`)?(Ct=(0,D.jsxs)(ve,{children:[(0,D.jsxs)(_e,{className:`flex items-center gap-2 text-white`,children:[(0,D.jsx)(ee,{className:`size-5 text-amber-400`,"aria-hidden":`true`}),`Change Password`]}),(0,D.jsx)(ye,{className:`text-slate-300`,children:`Update your account password`})]}),l[111]=Ct):Ct=l[111];let wt;l[112]===Symbol.for(`react.memo_cache_sentinel`)?(wt=(0,D.jsx)(S,{htmlFor:`current-password`,className:`text-slate-300`,children:`Current Password`}),l[112]=wt):wt=l[112];let Tt;l[113]===Symbol.for(`react.memo_cache_sentinel`)?(Tt=e=>Ce(e.target.value),l[113]=Tt):Tt=l[113];let Et;l[114]===O?Et=l[115]:(Et=(0,D.jsxs)(`div`,{className:`space-y-2`,children:[wt,(0,D.jsx)(x,{id:`current-password`,type:`password`,value:O,onChange:Tt,placeholder:`Enter current password`,"aria-label":`Current password`})]}),l[114]=O,l[115]=Et);let Dt;l[116]===Symbol.for(`react.memo_cache_sentinel`)?(Dt=(0,D.jsx)(S,{htmlFor:`new-password`,className:`text-slate-300`,children:`New Password`}),l[116]=Dt):Dt=l[116];let Ot;l[117]===Symbol.for(`react.memo_cache_sentinel`)?(Ot=e=>we(e.target.value),l[117]=Ot):Ot=l[117];let kt;l[118]===k?kt=l[119]:(kt=(0,D.jsx)(x,{id:`new-password`,type:`password`,value:k,onChange:Ot,placeholder:`Enter new password`,"aria-label":`New password`}),l[118]=k,l[119]=kt);let At;l[120]===Symbol.for(`react.memo_cache_sentinel`)?(At=(0,D.jsx)(`p`,{className:`text-xs text-slate-400`,children:`Must be at least 9 characters and no more than 128 characters`}),l[120]=At):At=l[120];let jt;l[121]===kt?jt=l[122]:(jt=(0,D.jsxs)(`div`,{className:`space-y-2`,children:[Dt,kt,At]}),l[121]=kt,l[122]=jt);let Mt;l[123]===Symbol.for(`react.memo_cache_sentinel`)?(Mt=(0,D.jsx)(S,{htmlFor:`confirm-password`,className:`text-slate-300`,children:`Confirm New Password`}),l[123]=Mt):Mt=l[123];let Nt;l[124]===Symbol.for(`react.memo_cache_sentinel`)?(Nt=e=>Te(e.target.value),l[124]=Nt):Nt=l[124];let Q;l[125]===A?Q=l[126]:(Q=(0,D.jsxs)(`div`,{className:`space-y-2`,children:[Mt,(0,D.jsx)(x,{id:`confirm-password`,type:`password`,value:A,onChange:Nt,placeholder:`Confirm new password`,"aria-label":`Confirm new password`})]}),l[125]=A,l[126]=Q);let Pt=P.isPending||!O||!k||!A,Ft=P.isPending?`Updating...`:`Update Password`,It;l[127]!==je||l[128]!==Pt||l[129]!==Ft?(It=(0,D.jsx)(b,{onClick:je,disabled:Pt,variant:`accent`,className:`w-full sm:w-auto`,children:Ft}),l[127]=je,l[128]=Pt,l[129]=Ft,l[130]=It):It=l[130];let Lt;l[131]!==Et||l[132]!==jt||l[133]!==Q||l[134]!==It?(Lt=(0,D.jsxs)(T,{className:`border-slate-700/50 bg-slate-800/30`,children:[Ct,(0,D.jsxs)(w,{className:`space-y-4`,children:[Et,jt,Q,It]})]}),l[131]=Et,l[132]=jt,l[133]=Q,l[134]=It,l[135]=Lt):Lt=l[135];let Rt;l[136]===Symbol.for(`react.memo_cache_sentinel`)?(Rt=(0,D.jsxs)(ve,{children:[(0,D.jsxs)(_e,{className:`flex items-center gap-2 text-red-400`,children:[(0,D.jsx)(be,{className:`size-5`,"aria-hidden":`true`}),`Danger Zone`]}),(0,D.jsx)(ye,{className:`text-red-300/80`,children:`Irreversible and destructive actions`})]}),l[136]=Rt):Rt=l[136];let zt,Bt;l[137]===Symbol.for(`react.memo_cache_sentinel`)?(zt=(0,D.jsx)(`p`,{className:`text-sm font-medium text-red-400`,children:`Delete Account`}),Bt=(0,D.jsx)(`p`,{className:`text-sm text-red-300/80`,children:`Once you delete your account, there is no going back. Please be certain.`}),l[137]=zt,l[138]=Bt):(zt=l[137],Bt=l[138]);let Vt;l[139]===_.is_admin?Vt=l[140]:(Vt=_.is_admin&&(0,D.jsx)(`p`,{className:`text-sm font-medium text-amber-400`,children:`Note: Admin accounts cannot be deleted.`}),l[139]=_.is_admin,l[140]=Vt);let Ht;l[141]===Vt?Ht=l[142]:(Ht=(0,D.jsxs)(`div`,{className:`space-y-2`,children:[zt,Bt,Vt]}),l[141]=Vt,l[142]=Ht);let Ut;l[143]===Symbol.for(`react.memo_cache_sentinel`)?(Ut=()=>m(!0),l[143]=Ut):Ut=l[143];let Wt;l[144]===Symbol.for(`react.memo_cache_sentinel`)?(Wt=(0,D.jsx)(ne,{className:`size-4`,"aria-hidden":`true`}),l[144]=Wt):Wt=l[144];let Gt;l[145]===_.is_admin?Gt=l[146]:(Gt=(0,D.jsxs)(b,{onClick:Ut,disabled:_.is_admin,variant:`destructive`,className:`w-full sm:w-auto`,"aria-label":`Delete account`,children:[Wt,`Delete Account`]}),l[145]=_.is_admin,l[146]=Gt);let Kt;l[147]!==Ht||l[148]!==Gt?(Kt=(0,D.jsxs)(T,{className:`border-red-500/50 bg-red-950/20`,children:[Rt,(0,D.jsxs)(w,{className:`space-y-4`,children:[Ht,Gt]})]}),l[147]=Ht,l[148]=Gt,l[149]=Kt):Kt=l[149];let qt;l[150]===Symbol.for(`react.memo_cache_sentinel`)?(qt=(0,D.jsxs)(t,{children:[(0,D.jsx)(i,{className:`text-red-400`,children:`Delete Account`}),(0,D.jsx)(a,{className:`text-slate-300`,children:`This action cannot be undone. This will permanently delete your account and remove all associated data.`})]}),l[150]=qt):qt=l[150];let Jt;l[151]===Symbol.for(`react.memo_cache_sentinel`)?(Jt=(0,D.jsxs)(S,{htmlFor:`delete-confirm`,className:`text-slate-300`,children:[`Type `,(0,D.jsx)(`span`,{className:`font-mono font-bold`,children:`DELETE`}),` to confirm:`]}),l[151]=Jt):Jt=l[151];let Yt;l[152]===Symbol.for(`react.memo_cache_sentinel`)?(Yt=e=>g(e.target.value),l[152]=Yt):Yt=l[152];let Xt;l[153]===h?Xt=l[154]:(Xt=(0,D.jsx)(`div`,{className:`space-y-4 py-4`,children:(0,D.jsxs)(`div`,{className:`space-y-2`,children:[Jt,(0,D.jsx)(x,{id:`delete-confirm`,type:`text`,value:h,onChange:Yt,placeholder:`DELETE`,className:`font-mono`,"aria-label":`Type DELETE to confirm account deletion`})]})}),l[153]=h,l[154]=Xt);let Zt;l[155]===Symbol.for(`react.memo_cache_sentinel`)?(Zt=()=>{m(!1),g(``)},l[155]=Zt):Zt=l[155];let Qt;l[156]===p?Qt=l[157]:(Qt=(0,D.jsx)(b,{variant:`outline`,onClick:Zt,disabled:p,children:`Cancel`}),l[156]=p,l[157]=Qt);let $t=p||h!==`DELETE`,en=p?`Deleting...`:`Delete Account`,tn;l[158]!==Ke||l[159]!==$t||l[160]!==en?(tn=(0,D.jsx)(b,{variant:`destructive`,onClick:Ke,disabled:$t,children:en}),l[158]=Ke,l[159]=$t,l[160]=en,l[161]=tn):tn=l[161];let nn;l[162]!==Qt||l[163]!==tn?(nn=(0,D.jsxs)(n,{className:`gap-2 sm:gap-0`,children:[Qt,tn]}),l[162]=Qt,l[163]=tn,l[164]=nn):nn=l[164];let rn;l[165]!==Xt||l[166]!==nn?(rn=(0,D.jsxs)(r,{className:`sm:max-w-md`,children:[qt,Xt,nn]}),l[165]=Xt,l[166]=nn,l[167]=rn):rn=l[167];let $;l[168]!==fe||l[169]!==rn?($=(0,D.jsx)(s,{open:fe,onOpenChange:m,children:rn}),l[168]=fe,l[169]=rn,l[170]=$):$=l[170];let an;return l[171]!==G||l[172]!==St||l[173]!==Lt||l[174]!==Kt||l[175]!==$?(an=(0,D.jsxs)(`div`,{className:`space-y-8`,children:[G,St,Lt,Kt,$]}),l[171]=G,l[172]=St,l[173]=Lt,l[174]=Kt,l[175]=$,l[176]=an):an=l[176],an}function Re(e){return de(e)}function ze(e){return ce(e)}function Be(){y(`update password`,`An unexpected error occurred`)}function Ve(e){let{currentPassword:t,newPassword:n}=e;return fe(t,n)}function He(e){return le(e)}export{Ie as Route};