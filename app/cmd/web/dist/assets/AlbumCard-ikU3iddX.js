import{t as e}from"./music-DCJfo9yH.js";import{J as t,Mt as n,Tt as r,en as i,jt as a,l as o,t as s,vt as c}from"./index-B4Mm07st.js";import{t as l}from"./toast-helpers-N18T5b5Z.js";import{r as u}from"./nullable-DZsmEyNt.js";var d=i(),f=n();function p({album:n}){let{id:i,title:p,cover:m,musician:h}=n,g=a(),_=s(),[v,y]=(0,d.useState)(!1),b=()=>g.prefetchQuery(o(i)),x=async e=>{e.preventDefault(),e.stopPropagation(),y(!0);try{let e=await g.fetchQuery(o(i));!e.error&&e.data?.tracks?.length>0&&_.playAlbum(e.data.tracks,{cover:u(e.data.album.cover),title:e.data.album.title,musician:u(e.data.album.musician)})}catch(e){console.error(`Failed to load album:`,e),l(`play album`,`Something went wrong. Please try again.`)}finally{y(!1)}},S=u(m),C=u(h);return(0,f.jsxs)(`article`,{className:`group relative animate-in overflow-hidden rounded-xl border border-slate-800 bg-slate-900 transition-all duration-300 fade-in hover:-translate-y-1 hover:border-amber-400/50 hover:shadow-xl hover:shadow-amber-400/20`,onMouseEnter:b,onFocus:b,children:[(0,f.jsxs)(t,{to:`/music/album/$id`,params:{id:i.toString()},className:`block focus:ring-2 focus:ring-amber-400 focus:outline-none focus:ring-inset`,"aria-label":`${p}${C?` by ${C}`:``}`,children:[(0,f.jsxs)(`div`,{className:`relative aspect-square bg-slate-800`,children:[S?(0,f.jsx)(`img`,{src:S,alt:``,width:`640`,height:`640`,loading:`lazy`,decoding:`async`,fetchPriority:`low`,sizes:`(min-width: 1024px) 16.66vw, (min-width: 768px) 25vw, (min-width: 640px) 33.33vw, 50vw`,className:`size-full object-cover transition-transform duration-300 group-hover:scale-105`}):(0,f.jsx)(`div`,{className:`flex size-full items-center justify-center`,children:(0,f.jsx)(e,{className:`size-10 text-slate-600`,"aria-hidden":`true`})}),(0,f.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 transition-opacity duration-200 group-focus-within:opacity-100 group-hover:opacity-100`,"aria-hidden":`true`})]}),(0,f.jsxs)(`div`,{className:`p-3`,children:[(0,f.jsx)(`h3`,{className:`truncate text-sm font-semibold text-white`,children:p}),C&&(0,f.jsx)(`p`,{className:`mt-0.5 truncate text-xs text-slate-400`,children:C})]})]}),(0,f.jsx)(`button`,{onClick:x,disabled:v,className:`absolute top-1/2 left-1/2 flex size-12 -translate-x-1/2 -translate-y-[calc(50%+1rem)] scale-90 items-center justify-center rounded-full bg-amber-500 text-slate-900 opacity-0 shadow-lg shadow-black/30 transition-all duration-200 group-focus-within:scale-100 group-focus-within:opacity-100 group-hover:scale-100 group-hover:opacity-100 hover:bg-amber-400 focus:scale-100 focus:opacity-100 focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-slate-900 focus:outline-none disabled:opacity-50`,"aria-label":`Play ${p}${C?` by ${C}`:``}`,children:v?(0,f.jsx)(c,{className:`size-5`}):(0,f.jsx)(r,{className:`size-5 fill-current`,"aria-hidden":`true`})})]})}export{p as t};