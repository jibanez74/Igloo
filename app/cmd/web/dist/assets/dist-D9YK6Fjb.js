import{en as e,tn as t}from"./index-B4Mm07st.js";import{n}from"./dist-DoMa5iEY.js";typeof window<`u`&&window.document&&window.document.createElement;function r(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),n===!1||!r.defaultPrevented)return t?.(r)}}var i=t(e(),1),a=globalThis?.document?i.useLayoutEffect:()=>{},o=i.useInsertionEffect||a;function s({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){let[a,o,s]=c({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:a;{let t=i.useRef(e!==void 0);i.useEffect(()=>{let e=t.current;if(e!==u){let t=e?`controlled`:`uncontrolled`,n=u?`controlled`:`uncontrolled`;console.warn(`${r} is changing from ${t} to ${n}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=u},[u,r])}return[d,i.useCallback(t=>{if(u){let n=l(t)?t(e):t;n!==e&&s.current?.(n)}else o(t)},[u,e,o,s])]}function c({defaultProp:e,onChange:t}){let[n,r]=i.useState(e),a=i.useRef(n),s=i.useRef(t);return o(()=>{s.current=t},[t]),i.useEffect(()=>{a.current!==n&&(s.current?.(n),a.current=n)},[n,a]),[n,r,s]}function l(e){return typeof e==`function`}function u(e){let t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...e)=>t.current?.(...e),[])}var d=i.useId||(()=>void 0),f=0;function p(e){let[t,n]=i.useState(d());return a(()=>{e||n(e=>e??String(f++))},[e]),e||(t?`radix-${t}`:``)}function m(e,t){return i.useReducer((e,n)=>t[e][n]??e,e)}var h=e=>{let{present:t,children:r}=e,a=g(t),o=typeof r==`function`?r({present:a.isPresent}):i.Children.only(r),s=n(a.ref,v(o));return typeof r==`function`||a.isPresent?i.cloneElement(o,{ref:s}):null};h.displayName=`Presence`;function g(e){let[t,n]=i.useState(),r=i.useRef(null),o=i.useRef(e),s=i.useRef(`none`),[c,l]=m(e?`mounted`:`unmounted`,{mounted:{UNMOUNT:`unmounted`,ANIMATION_OUT:`unmountSuspended`},unmountSuspended:{MOUNT:`mounted`,ANIMATION_END:`unmounted`},unmounted:{MOUNT:`mounted`}});return i.useEffect(()=>{let e=_(r.current);s.current=c===`mounted`?e:`none`},[c]),a(()=>{let t=r.current,n=o.current;if(n!==e){let r=s.current,i=_(t);e?l(`MOUNT`):i===`none`||t?.display===`none`?l(`UNMOUNT`):l(n&&r!==i?`ANIMATION_OUT`:`UNMOUNT`),o.current=e}},[e,l]),a(()=>{if(t){let e,n=t.ownerDocument.defaultView??window,i=i=>{let a=_(r.current).includes(CSS.escape(i.animationName));if(i.target===t&&a&&(l(`ANIMATION_END`),!o.current)){let r=t.style.animationFillMode;t.style.animationFillMode=`forwards`,e=n.setTimeout(()=>{t.style.animationFillMode===`forwards`&&(t.style.animationFillMode=r)})}},a=e=>{e.target===t&&(s.current=_(r.current))};return t.addEventListener(`animationstart`,a),t.addEventListener(`animationcancel`,i),t.addEventListener(`animationend`,i),()=>{n.clearTimeout(e),t.removeEventListener(`animationstart`,a),t.removeEventListener(`animationcancel`,i),t.removeEventListener(`animationend`,i)}}else l(`ANIMATION_END`)},[t,l]),{isPresent:[`mounted`,`unmountSuspended`].includes(c),ref:i.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}function _(e){return e?.animationName||`none`}function v(e){let t=Object.getOwnPropertyDescriptor(e.props,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}export{a,s as i,p as n,r as o,u as r,h as t};