{"version":3,"file":"utilities.esm-D2oMLW_J.js","names":["useLayoutEffect","useEffect"],"sources":["../../@dnd-kit/utilities/dist/utilities.esm.js"],"sourcesContent":["import { useMemo, useLayoutEffect, useEffect, useRef, useCallback } from 'react';\n\nfunction useCombinedRefs() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  return useMemo(() => node => {\n    refs.forEach(ref => ref(node));\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  refs);\n}\n\n// https://github.com/facebook/react/blob/master/packages/shared/ExecutionEnvironment.js\nconst canUseDOM = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined';\n\nfunction isWindow(element) {\n  const elementString = Object.prototype.toString.call(element);\n  return elementString === '[object Window]' || // In Electron context the Window object serializes to [object global]\n  elementString === '[object global]';\n}\n\nfunction isNode(node) {\n  return 'nodeType' in node;\n}\n\nfunction getWindow(target) {\n  var _target$ownerDocument, _target$ownerDocument2;\n\n  if (!target) {\n    return window;\n  }\n\n  if (isWindow(target)) {\n    return target;\n  }\n\n  if (!isNode(target)) {\n    return window;\n  }\n\n  return (_target$ownerDocument = (_target$ownerDocument2 = target.ownerDocument) == null ? void 0 : _target$ownerDocument2.defaultView) != null ? _target$ownerDocument : window;\n}\n\nfunction isDocument(node) {\n  const {\n    Document\n  } = getWindow(node);\n  return node instanceof Document;\n}\n\nfunction isHTMLElement(node) {\n  if (isWindow(node)) {\n    return false;\n  }\n\n  return node instanceof getWindow(node).HTMLElement;\n}\n\nfunction isSVGElement(node) {\n  return node instanceof getWindow(node).SVGElement;\n}\n\nfunction getOwnerDocument(target) {\n  if (!target) {\n    return document;\n  }\n\n  if (isWindow(target)) {\n    return target.document;\n  }\n\n  if (!isNode(target)) {\n    return document;\n  }\n\n  if (isDocument(target)) {\n    return target;\n  }\n\n  if (isHTMLElement(target) || isSVGElement(target)) {\n    return target.ownerDocument;\n  }\n\n  return document;\n}\n\n/**\r\n * A hook that resolves to useEffect on the server and useLayoutEffect on the client\r\n * @param callback {function} Callback function that is invoked when the dependencies of the hook change\r\n */\n\nconst useIsomorphicLayoutEffect = canUseDOM ? useLayoutEffect : useEffect;\n\nfunction useEvent(handler) {\n  const handlerRef = useRef(handler);\n  useIsomorphicLayoutEffect(() => {\n    handlerRef.current = handler;\n  });\n  return useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return handlerRef.current == null ? void 0 : handlerRef.current(...args);\n  }, []);\n}\n\nfunction useInterval() {\n  const intervalRef = useRef(null);\n  const set = useCallback((listener, duration) => {\n    intervalRef.current = setInterval(listener, duration);\n  }, []);\n  const clear = useCallback(() => {\n    if (intervalRef.current !== null) {\n      clearInterval(intervalRef.current);\n      intervalRef.current = null;\n    }\n  }, []);\n  return [set, clear];\n}\n\nfunction useLatestValue(value, dependencies) {\n  if (dependencies === void 0) {\n    dependencies = [value];\n  }\n\n  const valueRef = useRef(value);\n  useIsomorphicLayoutEffect(() => {\n    if (valueRef.current !== value) {\n      valueRef.current = value;\n    }\n  }, dependencies);\n  return valueRef;\n}\n\nfunction useLazyMemo(callback, dependencies) {\n  const valueRef = useRef();\n  return useMemo(() => {\n    const newValue = callback(valueRef.current);\n    valueRef.current = newValue;\n    return newValue;\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [...dependencies]);\n}\n\nfunction useNodeRef(onChange) {\n  const onChangeHandler = useEvent(onChange);\n  const node = useRef(null);\n  const setNodeRef = useCallback(element => {\n    if (element !== node.current) {\n      onChangeHandler == null ? void 0 : onChangeHandler(element, node.current);\n    }\n\n    node.current = element;\n  }, //eslint-disable-next-line\n  []);\n  return [node, setNodeRef];\n}\n\nfunction usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n\nlet ids = {};\nfunction useUniqueId(prefix, value) {\n  return useMemo(() => {\n    if (value) {\n      return value;\n    }\n\n    const id = ids[prefix] == null ? 0 : ids[prefix] + 1;\n    ids[prefix] = id;\n    return prefix + \"-\" + id;\n  }, [prefix, value]);\n}\n\nfunction createAdjustmentFn(modifier) {\n  return function (object) {\n    for (var _len = arguments.length, adjustments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      adjustments[_key - 1] = arguments[_key];\n    }\n\n    return adjustments.reduce((accumulator, adjustment) => {\n      const entries = Object.entries(adjustment);\n\n      for (const [key, valueAdjustment] of entries) {\n        const value = accumulator[key];\n\n        if (value != null) {\n          accumulator[key] = value + modifier * valueAdjustment;\n        }\n      }\n\n      return accumulator;\n    }, { ...object\n    });\n  };\n}\n\nconst add = /*#__PURE__*/createAdjustmentFn(1);\nconst subtract = /*#__PURE__*/createAdjustmentFn(-1);\n\nfunction hasViewportRelativeCoordinates(event) {\n  return 'clientX' in event && 'clientY' in event;\n}\n\nfunction isKeyboardEvent(event) {\n  if (!event) {\n    return false;\n  }\n\n  const {\n    KeyboardEvent\n  } = getWindow(event.target);\n  return KeyboardEvent && event instanceof KeyboardEvent;\n}\n\nfunction isTouchEvent(event) {\n  if (!event) {\n    return false;\n  }\n\n  const {\n    TouchEvent\n  } = getWindow(event.target);\n  return TouchEvent && event instanceof TouchEvent;\n}\n\n/**\r\n * Returns the normalized x and y coordinates for mouse and touch events.\r\n */\n\nfunction getEventCoordinates(event) {\n  if (isTouchEvent(event)) {\n    if (event.touches && event.touches.length) {\n      const {\n        clientX: x,\n        clientY: y\n      } = event.touches[0];\n      return {\n        x,\n        y\n      };\n    } else if (event.changedTouches && event.changedTouches.length) {\n      const {\n        clientX: x,\n        clientY: y\n      } = event.changedTouches[0];\n      return {\n        x,\n        y\n      };\n    }\n  }\n\n  if (hasViewportRelativeCoordinates(event)) {\n    return {\n      x: event.clientX,\n      y: event.clientY\n    };\n  }\n\n  return null;\n}\n\nconst CSS = /*#__PURE__*/Object.freeze({\n  Translate: {\n    toString(transform) {\n      if (!transform) {\n        return;\n      }\n\n      const {\n        x,\n        y\n      } = transform;\n      return \"translate3d(\" + (x ? Math.round(x) : 0) + \"px, \" + (y ? Math.round(y) : 0) + \"px, 0)\";\n    }\n\n  },\n  Scale: {\n    toString(transform) {\n      if (!transform) {\n        return;\n      }\n\n      const {\n        scaleX,\n        scaleY\n      } = transform;\n      return \"scaleX(\" + scaleX + \") scaleY(\" + scaleY + \")\";\n    }\n\n  },\n  Transform: {\n    toString(transform) {\n      if (!transform) {\n        return;\n      }\n\n      return [CSS.Translate.toString(transform), CSS.Scale.toString(transform)].join(' ');\n    }\n\n  },\n  Transition: {\n    toString(_ref) {\n      let {\n        property,\n        duration,\n        easing\n      } = _ref;\n      return property + \" \" + duration + \"ms \" + easing;\n    }\n\n  }\n});\n\nconst SELECTOR = 'a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]';\nfunction findFirstFocusableNode(element) {\n  if (element.matches(SELECTOR)) {\n    return element;\n  }\n\n  return element.querySelector(SELECTOR);\n}\n\nexport { CSS, add, canUseDOM, findFirstFocusableNode, getEventCoordinates, getOwnerDocument, getWindow, hasViewportRelativeCoordinates, isDocument, isHTMLElement, isKeyboardEvent, isNode, isSVGElement, isTouchEvent, isWindow, subtract, useCombinedRefs, useEvent, useInterval, useIsomorphicLayoutEffect, useLatestValue, useLazyMemo, useNodeRef, usePrevious, useUniqueId };\n//# sourceMappingURL=utilities.esm.js.map\n"],"mappings":"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"}