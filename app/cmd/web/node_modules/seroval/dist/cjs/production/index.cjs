"use strict";var Sr=Object.defineProperty;var cn=Object.getOwnPropertyDescriptor;var fn=Object.getOwnPropertyNames;var Sn=Object.prototype.hasOwnProperty;var mn=(e,r)=>{for(var t in r)Sr(e,t,{get:r[t],enumerable:!0})},pn=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of fn(r))!Sn.call(e,a)&&a!==t&&Sr(e,a,{get:()=>r[a],enumerable:!(n=cn(r,a))||n.enumerable});return e};var dn=e=>pn(Sr({},"__esModule",{value:!0}),e);var qa={};mn(qa,{Feature:()=>F,OpaqueReference:()=>V,Serializer:()=>Ee,SerovalConflictedNodeIdError:()=>Er,SerovalDepthLimitError:()=>G,SerovalDeserializationError:()=>de,SerovalError:()=>ne,SerovalMalformedNodeError:()=>w,SerovalMissingInstanceError:()=>D,SerovalMissingPluginError:()=>W,SerovalMissingReferenceError:()=>Se,SerovalMissingReferenceForIdError:()=>me,SerovalMode:()=>J,SerovalParserError:()=>h,SerovalSerializationError:()=>$e,SerovalUnknownTypedArrayError:()=>ge,SerovalUnsupportedNodeError:()=>O,SerovalUnsupportedTypeError:()=>x,compileJSON:()=>Za,createPlugin:()=>jn,createReference:()=>ct,createStream:()=>K,crossSerialize:()=>Ma,crossSerializeAsync:()=>Va,crossSerializeStream:()=>Xr,deserialize:()=>Ka,fromCrossJSON:()=>Ya,fromJSON:()=>$a,getCrossReferenceHeader:()=>lt,resolvePlugins:()=>v,serialize:()=>Wa,serializeAsync:()=>Ga,toCrossJSON:()=>La,toCrossJSONAsync:()=>Ua,toCrossJSONStream:()=>ja,toJSON:()=>Ha,toJSONAsync:()=>Ja});module.exports=dn(qa);var F=(i=>(i[i.AggregateError=1]="AggregateError",i[i.ArrowFunction=2]="ArrowFunction",i[i.ErrorPrototypeStack=4]="ErrorPrototypeStack",i[i.ObjectAssign=8]="ObjectAssign",i[i.BigIntTypedArray=16]="BigIntTypedArray",i[i.RegExp=32]="RegExp",i))(F||{});var N=Symbol.asyncIterator,mr=Symbol.hasInstance,I=Symbol.isConcatSpreadable,b=Symbol.iterator,pr=Symbol.match,dr=Symbol.matchAll,gr=Symbol.replace,yr=Symbol.search,Nr=Symbol.species,br=Symbol.split,Cr=Symbol.toPrimitive,P=Symbol.toStringTag,vr=Symbol.unscopables;var et={0:"Symbol.asyncIterator",1:"Symbol.hasInstance",2:"Symbol.isConcatSpreadable",3:"Symbol.iterator",4:"Symbol.match",5:"Symbol.matchAll",6:"Symbol.replace",7:"Symbol.search",8:"Symbol.species",9:"Symbol.split",10:"Symbol.toPrimitive",11:"Symbol.toStringTag",12:"Symbol.unscopables"},Ie={[N]:0,[mr]:1,[I]:2,[b]:3,[pr]:4,[dr]:5,[gr]:6,[yr]:7,[Nr]:8,[br]:9,[Cr]:10,[P]:11,[vr]:12},rt={0:N,1:mr,2:I,3:b,4:pr,5:dr,6:gr,7:yr,8:Nr,9:br,10:Cr,11:P,12:vr},tt={2:"!0",3:"!1",1:"void 0",0:"null",4:"-0",5:"1/0",6:"-1/0",7:"0/0"},o=void 0,nt={2:!0,3:!1,1:o,0:null,4:-0,5:Number.POSITIVE_INFINITY,6:Number.NEGATIVE_INFINITY,7:Number.NaN};var Pe={0:"Error",1:"EvalError",2:"RangeError",3:"ReferenceError",4:"SyntaxError",5:"TypeError",6:"URIError"},ot={0:Error,1:EvalError,2:RangeError,3:ReferenceError,4:SyntaxError,5:TypeError,6:URIError};function c(e,r,t,n,a,s,i,u,l,g,S,d){return{t:e,i:r,s:t,c:n,m:a,p:s,e:i,a:u,f:l,b:g,o:S,l:d}}function B(e){return c(2,o,e,o,o,o,o,o,o,o,o,o)}var Q=B(2),ee=B(3),xe=B(1),Te=B(0),at=B(4),st=B(5),it=B(6),ut=B(7);function gn(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"\b":return"\\b";case"	":return"\\t";case"\f":return"\\f";case"<":return"\\x3C";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return o}}function y(e){let r="",t=0,n;for(let a=0,s=e.length;a<s;a++)n=gn(e[a]),n&&(r+=e.slice(t,a)+n,t=a+1);return t===0?r=e:r+=e.slice(t),r}function yn(e){switch(e){case"\\\\":return"\\";case'\\"':return'"';case"\\n":return`
`;case"\\r":return"\r";case"\\b":return"\b";case"\\t":return"	";case"\\f":return"\f";case"\\x3C":return"<";case"\\u2028":return"\u2028";case"\\u2029":return"\u2029";default:return e}}function M(e){return e.replace(/(\\\\|\\"|\\n|\\r|\\b|\\t|\\f|\\u2028|\\u2029|\\x3C)/g,yn)}var j="__SEROVAL_REFS__",fe="$R",Oe=`self.${fe}`;function lt(e){return e==null?`${Oe}=${Oe}||[]`:`(${Oe}=${Oe}||{})["${y(e)}"]=[]`}var Ar=new Map,Y=new Map;function ct(e,r){return Ar.set(r,e),Y.set(e,r),r}function Rr(e){return Ar.has(e)}function Nn(e){return Y.has(e)}function ft(e){if(Rr(e))return Ar.get(e);throw new Se(e)}function St(e){if(Nn(e))return Y.get(e);throw new me(e)}typeof globalThis!="undefined"?Object.defineProperty(globalThis,j,{value:Y,configurable:!0,writable:!1,enumerable:!1}):typeof window!="undefined"?Object.defineProperty(window,j,{value:Y,configurable:!0,writable:!1,enumerable:!1}):typeof self!="undefined"?Object.defineProperty(self,j,{value:Y,configurable:!0,writable:!1,enumerable:!1}):typeof global!="undefined"&&Object.defineProperty(global,j,{value:Y,configurable:!0,writable:!1,enumerable:!1});function we(e){return e instanceof EvalError?1:e instanceof RangeError?2:e instanceof ReferenceError?3:e instanceof SyntaxError?4:e instanceof TypeError?5:e instanceof URIError?6:0}function bn(e){let r=Pe[we(e)];return e.name!==r?{name:e.name}:e.constructor.name!==r?{name:e.constructor.name}:{}}function re(e,r){let t=bn(e),n=Object.getOwnPropertyNames(e);for(let a=0,s=n.length,i;a<s;a++)i=n[a],i!=="name"&&i!=="message"&&(i==="stack"?r&4&&(t=t||{},t[i]=e[i]):(t=t||{},t[i]=e[i]));return t}function he(e){return Object.isFrozen(e)?3:Object.isSealed(e)?2:Object.isExtensible(e)?0:1}function ze(e){switch(e){case Number.POSITIVE_INFINITY:return st;case Number.NEGATIVE_INFINITY:return it}return e!==e?ut:Object.is(e,-0)?at:c(0,o,e,o,o,o,o,o,o,o,o,o)}function te(e){return c(1,o,y(e),o,o,o,o,o,o,o,o,o)}function _e(e){return c(3,o,""+e,o,o,o,o,o,o,o,o,o)}function pt(e){return c(4,e,o,o,o,o,o,o,o,o,o,o)}function ke(e,r){let t=r.valueOf();return c(5,e,t!==t?"":r.toISOString(),o,o,o,o,o,o,o,o,o)}function De(e,r){return c(6,e,o,y(r.source),r.flags,o,o,o,o,o,o,o)}function dt(e,r){return c(17,e,Ie[r],o,o,o,o,o,o,o,o,o)}function gt(e,r){return c(18,e,y(ft(r)),o,o,o,o,o,o,o,o,o)}function pe(e,r,t){return c(25,e,t,y(r),o,o,o,o,o,o,o,o)}function Fe(e,r,t){return c(9,e,o,o,o,o,o,t,o,o,he(r),o)}function Be(e,r){return c(21,e,o,o,o,o,o,o,r,o,o,o)}function Me(e,r,t){return c(15,e,o,r.constructor.name,o,o,o,o,t,r.byteOffset,o,r.length)}function Ve(e,r,t){return c(16,e,o,r.constructor.name,o,o,o,o,t,r.byteOffset,o,r.byteLength)}function Le(e,r,t){return c(20,e,o,o,o,o,o,o,t,r.byteOffset,o,r.byteLength)}function Ue(e,r,t){return c(13,e,we(r),o,y(r.message),t,o,o,o,o,o,o)}function je(e,r,t){return c(14,e,we(r),o,y(r.message),t,o,o,o,o,o,o)}function Ye(e,r){return c(7,e,o,o,o,o,o,r,o,o,o,o)}function We(e,r){return c(28,o,o,o,o,o,o,[e,r],o,o,o,o)}function Ge(e,r){return c(30,o,o,o,o,o,o,[e,r],o,o,o,o)}function Ke(e,r,t){return c(31,e,o,o,o,o,o,t,r,o,o,o)}function He(e,r){return c(32,e,o,o,o,o,o,o,r,o,o,o)}function Je(e,r){return c(33,e,o,o,o,o,o,o,r,o,o,o)}function Ze(e,r){return c(34,e,o,o,o,o,o,o,r,o,o,o)}var{toString:hs}=Object.prototype;var Cn={parsing:1,serialization:2,deserialization:3};function vn(e){return`Seroval Error (step: ${Cn[e]})`}var An=(e,r)=>vn(e),ne=class extends Error{constructor(t,n){super(An(t,n));this.cause=n}},h=class extends ne{constructor(r){super("parsing",r)}},$e=class extends ne{constructor(r){super("serialization",r)}},de=class extends ne{constructor(r){super("deserialization",r)}};function _(e){return`Seroval Error (specific: ${e})`}var x=class extends Error{constructor(t){super(_(1));this.value=t}},O=class extends Error{constructor(r){super(_(2))}},W=class extends Error{constructor(r){super(_(3))}},D=class extends Error{constructor(r){super(_(4))}},Se=class extends Error{constructor(t){super(_(5));this.value=t}},me=class extends Error{constructor(r){super(_(6))}},ge=class extends Error{constructor(r){super(_(7))}},w=class extends Error{constructor(r){super(_(8))}},Er=class extends Error{constructor(r){super(_(9))}},G=class extends Error{constructor(r){super(_(9))}};var V=class{constructor(r,t){this.value=r;this.replacement=t}};var oe=()=>{let e={p:0,s:0,f:0};return e.p=new Promise((r,t)=>{e.s=r,e.f=t}),e},Rn=(e,r)=>{e.s(r),e.p.s=1,e.p.v=r},En=(e,r)=>{e.f(r),e.p.s=2,e.p.v=r},yt=oe.toString(),Nt=Rn.toString(),bt=En.toString(),Ir=()=>{let e=[],r=[],t=!0,n=!1,a=0,s=(l,g,S)=>{for(S=0;S<a;S++)r[S]&&r[S][g](l)},i=(l,g,S,d)=>{for(g=0,S=e.length;g<S;g++)d=e[g],!t&&g===S-1?l[n?"return":"throw"](d):l.next(d)},u=(l,g)=>(t&&(g=a++,r[g]=l),i(l),()=>{t&&(r[g]=r[a],r[a--]=void 0)});return{__SEROVAL_STREAM__:!0,on:l=>u(l),next:l=>{t&&(e.push(l),s(l,"next"))},throw:l=>{t&&(e.push(l),s(l,"throw"),t=!1,n=!1,r.length=0)},return:l=>{t&&(e.push(l),s(l,"return"),t=!1,n=!0,r.length=0)}}},Ct=Ir.toString(),Pr=e=>r=>()=>{let t=0,n={[e]:()=>n,next:()=>{if(t>r.d)return{done:!0,value:void 0};let a=t++,s=r.v[a];if(a===r.t)throw s;return{done:a===r.d,value:s}}};return n},vt=Pr.toString(),xr=(e,r)=>t=>()=>{let n=0,a=-1,s=!1,i=[],u=[],l=(S=0,d=u.length)=>{for(;S<d;S++)u[S].s({done:!0,value:void 0})};t.on({next:S=>{let d=u.shift();d&&d.s({done:!1,value:S}),i.push(S)},throw:S=>{let d=u.shift();d&&d.f(S),l(),a=i.length,s=!0,i.push(S)},return:S=>{let d=u.shift();d&&d.s({done:!0,value:S}),l(),a=i.length,i.push(S)}});let g={[e]:()=>g,next:()=>{if(a===-1){let q=n++;if(q>=i.length){let Qr=r();return u.push(Qr),Qr.p}return{done:!1,value:i[q]}}if(n>a)return{done:!0,value:void 0};let S=n++,d=i[S];if(S!==a)return{done:!1,value:d};if(s)throw d;return{done:!0,value:d}}};return g},At=xr.toString(),Tr=e=>{let r=atob(e),t=r.length,n=new Uint8Array(t);for(let a=0;a<t;a++)n[a]=r.charCodeAt(a);return n.buffer},Rt=Tr.toString();var Et={},It={};var Pt={0:{},1:{},2:{},3:{},4:{},5:{}},xt={0:"[]",1:yt,2:Nt,3:bt,4:Ct,5:Rt};function L(e){return"__SEROVAL_STREAM__"in e}function K(){return Ir()}function qe(e){let r=K(),t=e[N]();async function n(){try{let a=await t.next();a.done?r.return(a.value):(r.next(a.value),await n())}catch(a){r.throw(a)}}return n().catch(()=>{}),r}var In=xr(N,oe);function Tt(e){return In(e)}function Xe(e){let r=[],t=-1,n=-1,a=e[b]();for(;;)try{let s=a.next();if(r.push(s.value),s.done){n=r.length-1;break}}catch(s){t=r.length,r.push(s)}return{v:r,t,d:n}}var Pn=Pr(b);function Ot(e){return Pn(e)}async function Or(e){try{return[1,await e]}catch(r){return[0,r]}}function Ne(e,r){return{plugins:r.plugins,mode:e,marked:new Set,features:63^(r.disabledFeatures||0),refs:r.refs||new Map,depthLimit:r.depthLimit||1e3}}function be(e,r){e.marked.add(r)}function wr(e,r){let t=e.refs.size;return e.refs.set(r,t),t}function Qe(e,r){let t=e.refs.get(r);return t!=null?(be(e,t),{type:1,value:pt(t)}):{type:0,value:wr(e,r)}}function H(e,r){let t=Qe(e,r);return t.type===1?t:Rr(r)?{type:2,value:gt(t.value,r)}:t}function E(e,r){let t=H(e,r);if(t.type!==0)return t.value;if(r in Ie)return dt(t.value,r);throw new x(r)}function k(e,r){let t=Qe(e,Pt[r]);return t.type===1?t.value:c(26,t.value,r,o,o,o,o,o,o,o,o,o)}function er(e){let r=Qe(e,Et);return r.type===1?r.value:c(27,r.value,o,o,o,o,o,o,E(e,b),o,o,o)}function rr(e){let r=Qe(e,It);return r.type===1?r.value:c(29,r.value,o,o,o,o,o,[k(e,1),E(e,N)],o,o,o,o)}function tr(e,r,t,n){return c(t?11:10,e,o,o,o,n,o,o,o,o,he(r),o)}function nr(e,r,t,n){return c(8,r,o,o,o,o,{k:t,v:n},o,k(e,0),o,o,o)}function ht(e,r,t){return c(22,r,t,o,o,o,o,o,k(e,1),o,o,o)}function or(e,r,t){let n=new Uint8Array(t),a="";for(let s=0,i=n.length;s<i;s++)a+=String.fromCharCode(n[s]);return c(19,r,y(btoa(a)),o,o,o,o,o,k(e,5),o,o,o)}function ae(e,r){return{base:Ne(e,r),child:void 0}}var zr=class{constructor(r,t){this._p=r;this.depth=t}parse(r){return C(this._p,this.depth,r)}};async function Tn(e,r,t){let n=[];for(let a=0,s=t.length;a<s;a++)a in t?n[a]=await C(e,r,t[a]):n[a]=0;return n}async function On(e,r,t,n){return Fe(t,n,await Tn(e,r,n))}async function _r(e,r,t){let n=Object.entries(t),a=[],s=[];for(let i=0,u=n.length;i<u;i++)a.push(y(n[i][0])),s.push(await C(e,r,n[i][1]));return b in t&&(a.push(E(e.base,b)),s.push(We(er(e.base),await C(e,r,Xe(t))))),N in t&&(a.push(E(e.base,N)),s.push(Ge(rr(e.base),await C(e,r,qe(t))))),P in t&&(a.push(E(e.base,P)),s.push(te(t[P]))),I in t&&(a.push(E(e.base,I)),s.push(t[I]?Q:ee)),{k:a,v:s}}async function hr(e,r,t,n,a){return tr(t,n,a,await _r(e,r,n))}async function wn(e,r,t,n){return Be(t,await C(e,r,n.valueOf()))}async function hn(e,r,t,n){return Me(t,n,await C(e,r,n.buffer))}async function zn(e,r,t,n){return Ve(t,n,await C(e,r,n.buffer))}async function _n(e,r,t,n){return Le(t,n,await C(e,r,n.buffer))}async function zt(e,r,t,n){let a=re(n,e.base.features);return Ue(t,n,a?await _r(e,r,a):o)}async function kn(e,r,t,n){let a=re(n,e.base.features);return je(t,n,a?await _r(e,r,a):o)}async function Dn(e,r,t,n){let a=[],s=[];for(let[i,u]of n.entries())a.push(await C(e,r,i)),s.push(await C(e,r,u));return nr(e.base,t,a,s)}async function Fn(e,r,t,n){let a=[];for(let s of n.keys())a.push(await C(e,r,s));return Ye(t,a)}async function _t(e,r,t,n){let a=e.base.plugins;if(a)for(let s=0,i=a.length;s<i;s++){let u=a[s];if(u.parse.async&&u.test(n))return pe(t,u.tag,await u.parse.async(n,new zr(e,r),{id:t}))}return o}async function Bn(e,r,t,n){let[a,s]=await Or(n);return c(12,t,a,o,o,o,o,o,await C(e,r,s),o,o,o)}function Mn(e,r,t,n,a){let s=[],i=t.on({next:u=>{be(this.base,r),C(this,e,u).then(l=>{s.push(He(r,l))},l=>{a(l),i()})},throw:u=>{be(this.base,r),C(this,e,u).then(l=>{s.push(Je(r,l)),n(s),i()},l=>{a(l),i()})},return:u=>{be(this.base,r),C(this,e,u).then(l=>{s.push(Ze(r,l)),n(s),i()},l=>{a(l),i()})}})}async function Vn(e,r,t,n){return Ke(t,k(e.base,4),await new Promise(Mn.bind(e,r,t,n)))}async function Ln(e,r,t,n){if(Array.isArray(n))return On(e,r,t,n);if(L(n))return Vn(e,r,t,n);let a=n.constructor;if(a===V)return C(e,r,n.replacement);let s=await _t(e,r,t,n);if(s)return s;switch(a){case Object:return hr(e,r,t,n,!1);case o:return hr(e,r,t,n,!0);case Date:return ke(t,n);case Error:case EvalError:case RangeError:case ReferenceError:case SyntaxError:case TypeError:case URIError:return zt(e,r,t,n);case Number:case Boolean:case String:case BigInt:return wn(e,r,t,n);case ArrayBuffer:return or(e.base,t,n);case Int8Array:case Int16Array:case Int32Array:case Uint8Array:case Uint16Array:case Uint32Array:case Uint8ClampedArray:case Float32Array:case Float64Array:return hn(e,r,t,n);case DataView:return _n(e,r,t,n);case Map:return Dn(e,r,t,n);case Set:return Fn(e,r,t,n);default:break}if(a===Promise||n instanceof Promise)return Bn(e,r,t,n);let i=e.base.features;if(i&32&&a===RegExp)return De(t,n);if(i&16)switch(a){case BigInt64Array:case BigUint64Array:return zn(e,r,t,n);default:break}if(i&1&&typeof AggregateError!="undefined"&&(a===AggregateError||n instanceof AggregateError))return kn(e,r,t,n);if(n instanceof Error)return zt(e,r,t,n);if(b in n||N in n)return hr(e,r,t,n,!!a);throw new x(n)}async function Un(e,r,t){let n=H(e.base,t);if(n.type!==0)return n.value;let a=await _t(e,r,n.value,t);if(a)return a;throw new x(t)}async function C(e,r,t){switch(typeof t){case"boolean":return t?Q:ee;case"undefined":return xe;case"string":return te(t);case"number":return ze(t);case"bigint":return _e(t);case"object":{if(t){let n=H(e.base,t);return n.type===0?await Ln(e,r+1,n.value,t):n.value}return Te}case"symbol":return E(e.base,t);case"function":return Un(e,r,t);default:throw new x(t)}}async function se(e,r){try{return await C(e,0,r)}catch(t){throw t instanceof h?t:new h(t)}}var J=(t=>(t[t.Vanilla=1]="Vanilla",t[t.Cross=2]="Cross",t))(J||{});function jn(e){return e}function kt(e,r){for(let t=0,n=r.length;t<n;t++){let a=r[t];e.has(a)||(e.add(a),a.extends&&kt(e,a.extends))}}function v(e){if(e){let r=new Set;return kt(r,e),[...r]}}function Dt(e){switch(e){case"Int8Array":return Int8Array;case"Int16Array":return Int16Array;case"Int32Array":return Int32Array;case"Uint8Array":return Uint8Array;case"Uint16Array":return Uint16Array;case"Uint32Array":return Uint32Array;case"Uint8ClampedArray":return Uint8ClampedArray;case"Float32Array":return Float32Array;case"Float64Array":return Float64Array;case"BigInt64Array":return BigInt64Array;case"BigUint64Array":return BigUint64Array;default:throw new ge(e)}}var Yn=1e6,Wn=1e4,Gn=2e4;function Bt(e,r){switch(r){case 3:return Object.freeze(e);case 1:return Object.preventExtensions(e);case 2:return Object.seal(e);default:return e}}var Kn=1e3;function Mt(e,r){var t;return{mode:e,plugins:r.plugins,refs:r.refs||new Map,features:(t=r.features)!=null?t:63^(r.disabledFeatures||0),depthLimit:r.depthLimit||Kn}}function Vt(e){return{mode:1,base:Mt(1,e),child:o,state:{marked:new Set(e.markedRefs)}}}function Lt(e){return{mode:2,base:Mt(2,e),child:o}}var kr=class{constructor(r,t){this._p=r;this.depth=t}deserialize(r){return p(this._p,this.depth,r)}};function Ut(e,r){if(r<0||!Number.isFinite(r)||!Number.isInteger(r))throw new w({t:4,i:r});if(e.refs.has(r))throw new Error("Conflicted ref id: "+r)}function Hn(e,r,t){return Ut(e.base,r),e.state.marked.has(r)&&e.base.refs.set(r,t),t}function Jn(e,r,t){return Ut(e.base,r),e.base.refs.set(r,t),t}function A(e,r,t){return e.mode===1?Hn(e,r,t):Jn(e,r,t)}function Dr(e,r,t){if(Object.hasOwn(r,t))return r[t];throw new w(e)}function Zn(e,r){return A(e,r.i,St(M(r.s)))}function $n(e,r,t){let n=t.a,a=n.length,s=A(e,t.i,new Array(a));for(let i=0,u;i<a;i++)u=n[i],u&&(s[i]=p(e,r,u));return Bt(s,t.o),s}function qn(e){switch(e){case"constructor":case"__proto__":case"prototype":case"__defineGetter__":case"__defineSetter__":case"__lookupGetter__":case"__lookupSetter__":return!1;default:return!0}}function Xn(e){switch(e){case N:case I:case P:case b:return!0;default:return!1}}function Ft(e,r,t){qn(r)?e[r]=t:Object.defineProperty(e,r,{value:t,configurable:!0,enumerable:!0,writable:!0})}function Qn(e,r,t,n,a){if(typeof n=="string")Ft(t,n,p(e,r,a));else{let s=p(e,r,n);switch(typeof s){case"string":Ft(t,s,p(e,r,a));break;case"symbol":Xn(s)&&(t[s]=p(e,r,a));break;default:throw new w(n)}}}function jt(e,r,t,n){let a=t.k;if(a.length>0)for(let i=0,u=t.v,l=a.length;i<l;i++)Qn(e,r,n,a[i],u[i]);return n}function eo(e,r,t){let n=A(e,t.i,t.t===10?{}:Object.create(null));return jt(e,r,t.p,n),Bt(n,t.o),n}function ro(e,r){return A(e,r.i,new Date(r.s))}function to(e,r){if(e.base.features&32){let t=M(r.c);if(t.length>Gn)throw new w(r);return A(e,r.i,new RegExp(t,r.m))}throw new O(r)}function no(e,r,t){let n=A(e,t.i,new Set);for(let a=0,s=t.a,i=s.length;a<i;a++)n.add(p(e,r,s[a]));return n}function oo(e,r,t){let n=A(e,t.i,new Map);for(let a=0,s=t.e.k,i=t.e.v,u=s.length;a<u;a++)n.set(p(e,r,s[a]),p(e,r,i[a]));return n}function ao(e,r){if(r.s.length>Yn)throw new w(r);return A(e,r.i,Tr(M(r.s)))}function so(e,r,t){var u;let n=Dt(t.c),a=p(e,r,t.f),s=(u=t.b)!=null?u:0;if(s<0||s>a.byteLength)throw new w(t);return A(e,t.i,new n(a,s,t.l))}function io(e,r,t){var i;let n=p(e,r,t.f),a=(i=t.b)!=null?i:0;if(a<0||a>n.byteLength)throw new w(t);return A(e,t.i,new DataView(n,a,t.l))}function Yt(e,r,t,n){if(t.p){let a=jt(e,r,t.p,{});Object.defineProperties(n,Object.getOwnPropertyDescriptors(a))}return n}function uo(e,r,t){let n=A(e,t.i,new AggregateError([],M(t.m)));return Yt(e,r,t,n)}function lo(e,r,t){let n=Dr(t,ot,t.s),a=A(e,t.i,new n(M(t.m)));return Yt(e,r,t,a)}function co(e,r,t){let n=oe(),a=A(e,t.i,n.p),s=p(e,r,t.f);return t.s?n.s(s):n.f(s),a}function fo(e,r,t){return A(e,t.i,Object(p(e,r,t.f)))}function So(e,r,t){let n=e.base.plugins;if(n){let a=M(t.c);for(let s=0,i=n.length;s<i;s++){let u=n[s];if(u.tag===a)return A(e,t.i,u.deserialize(t.s,new kr(e,r),{id:t.i}))}}throw new W(t.c)}function mo(e,r){return A(e,r.i,A(e,r.s,oe()).p)}function po(e,r,t){let n=e.base.refs.get(t.i);if(n)return n.s(p(e,r,t.a[1])),o;throw new D("Promise")}function go(e,r,t){let n=e.base.refs.get(t.i);if(n)return n.f(p(e,r,t.a[1])),o;throw new D("Promise")}function yo(e,r,t){p(e,r,t.a[0]);let n=p(e,r,t.a[1]);return Ot(n)}function No(e,r,t){p(e,r,t.a[0]);let n=p(e,r,t.a[1]);return Tt(n)}function bo(e,r,t){let n=A(e,t.i,K()),a=t.a,s=a.length;if(s)for(let i=0;i<s;i++)p(e,r,a[i]);return n}function Co(e,r,t){let n=e.base.refs.get(t.i);if(n&&L(n))return n.next(p(e,r,t.f)),o;throw new D("Stream")}function vo(e,r,t){let n=e.base.refs.get(t.i);if(n&&L(n))return n.throw(p(e,r,t.f)),o;throw new D("Stream")}function Ao(e,r,t){let n=e.base.refs.get(t.i);if(n&&L(n))return n.return(p(e,r,t.f)),o;throw new D("Stream")}function Ro(e,r,t){return p(e,r,t.f),o}function Eo(e,r,t){return p(e,r,t.a[1]),o}function p(e,r,t){if(r>e.base.depthLimit)throw new G(e.base.depthLimit);switch(r+=1,t.t){case 2:return Dr(t,nt,t.s);case 0:return Number(t.s);case 1:return M(String(t.s));case 3:if(String(t.s).length>Wn)throw new w(t);return BigInt(t.s);case 4:return e.base.refs.get(t.i);case 18:return Zn(e,t);case 9:return $n(e,r,t);case 10:case 11:return eo(e,r,t);case 5:return ro(e,t);case 6:return to(e,t);case 7:return no(e,r,t);case 8:return oo(e,r,t);case 19:return ao(e,t);case 16:case 15:return so(e,r,t);case 20:return io(e,r,t);case 14:return uo(e,r,t);case 13:return lo(e,r,t);case 12:return co(e,r,t);case 17:return Dr(t,rt,t.s);case 21:return fo(e,r,t);case 25:return So(e,r,t);case 22:return mo(e,t);case 23:return po(e,r,t);case 24:return go(e,r,t);case 28:return yo(e,r,t);case 30:return No(e,r,t);case 31:return bo(e,r,t);case 32:return Co(e,r,t);case 33:return vo(e,r,t);case 34:return Ao(e,r,t);case 27:return Ro(e,r,t);case 29:return Eo(e,r,t);default:throw new O(t)}}function ar(e,r){try{return p(e,0,r)}catch(t){throw new de(t)}}var Io=()=>T,Po=Io.toString(),Wt=/=>/.test(Po);function sr(e,r){return Wt?(e.length===1?e[0]:"("+e.join(",")+")")+"=>"+(r.startsWith("{")?"("+r+")":r):"function("+e.join(",")+"){return "+r+"}"}function Gt(e,r){return Wt?(e.length===1?e[0]:"("+e.join(",")+")")+"=>{"+r+"}":"function("+e.join(",")+"){"+r+"}"}var Jt="hjkmoquxzABCDEFGHIJKLNPQRTUVWXYZ$_",Kt=Jt.length,Zt="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$_",Ht=Zt.length;function Fr(e){let r=e%Kt,t=Jt[r];for(e=(e-r)/Kt;e>0;)r=e%Ht,t+=Zt[r],e=(e-r)/Ht;return t}var xo=/^[$A-Z_][0-9A-Z_$]*$/i;function Br(e){let r=e[0];return(r==="$"||r==="_"||r>="A"&&r<="Z"||r>="a"&&r<="z")&&xo.test(e)}function ve(e){switch(e.t){case 0:return e.s+"="+e.v;case 2:return e.s+".set("+e.k+","+e.v+")";case 1:return e.s+".add("+e.v+")";case 3:return e.s+".delete("+e.k+")"}}function To(e){let r=[],t=e[0];for(let n=1,a=e.length,s,i=t;n<a;n++)s=e[n],s.t===0&&s.v===i.v?t={t:0,s:s.s,k:o,v:ve(t)}:s.t===2&&s.s===i.s?t={t:2,s:ve(t),k:s.k,v:s.v}:s.t===1&&s.s===i.s?t={t:1,s:ve(t),k:o,v:s.v}:s.t===3&&s.s===i.s?t={t:3,s:ve(t),k:s.k,v:o}:(r.push(t),t=s),i=s;return r.push(t),r}function rn(e){if(e.length){let r="",t=To(e);for(let n=0,a=t.length;n<a;n++)r+=ve(t[n])+",";return r}return o}var Oo="Object.create(null)",wo="new Set",ho="new Map",zo="Promise.resolve",_o="Promise.reject",ko={3:"Object.freeze",2:"Object.seal",1:"Object.preventExtensions",0:o};function tn(e,r){return{mode:e,plugins:r.plugins,features:r.features,marked:new Set(r.markedRefs),stack:[],flags:[],assignments:[]}}function Do(){return{valid:new Map,vars:[]}}function ir(e){return{mode:1,base:tn(1,e),state:Do(),child:o}}function ur(e){return{mode:2,base:tn(2,e),state:e,child:o}}var Mr=class{constructor(r){this._p=r}serialize(r){return f(this._p,r)}};function Fo(e,r){let t=e.valid.get(r);t==null&&(t=e.valid.size,e.valid.set(r,t));let n=e.vars[t];return n==null&&(n=Fr(t),e.vars[t]=n),n}function Bo(e){return fe+"["+e+"]"}function m(e,r){return e.mode===1?Fo(e.state,r):Bo(r)}function z(e,r){e.marked.add(r)}function Vr(e,r){return e.marked.has(r)}function Ur(e,r,t){r!==0&&(z(e.base,t),e.base.flags.push({type:r,value:m(e,t)}))}function Mo(e){let r="";for(let t=0,n=e.flags,a=n.length;t<a;t++){let s=n[t];r+=ko[s.type]+"("+s.value+"),"}return r}function nn(e){let r=rn(e.assignments),t=Mo(e);return r?t?r+t:r:t}function on(e,r,t){e.assignments.push({t:0,s:r,k:o,v:t})}function Vo(e,r,t){e.base.assignments.push({t:1,s:m(e,r),k:o,v:t})}function Ce(e,r,t,n){e.base.assignments.push({t:2,s:m(e,r),k:t,v:n})}function $t(e,r,t){e.base.assignments.push({t:3,s:m(e,r),k:t,v:o})}function Ae(e,r,t,n){on(e.base,m(e,r)+"["+t+"]",n)}function Lr(e,r,t,n){on(e.base,m(e,r)+"."+t,n)}function U(e,r){return r.t===4&&e.stack.includes(r.i)}function ie(e,r,t){return e.mode===1&&!Vr(e.base,r)?t:m(e,r)+"="+t}function Lo(e){return j+'.get("'+e.s+'")'}function qt(e,r,t,n){return t?U(e.base,t)?(z(e.base,r),Ae(e,r,n,m(e,t.i)),""):f(e,t):""}function Uo(e,r){let t=r.i,n=r.a,a=n.length;if(a>0){e.base.stack.push(t);let s=qt(e,t,n[0],0),i=s==="";for(let u=1,l;u<a;u++)l=qt(e,t,n[u],u),s+=","+l,i=l==="";return e.base.stack.pop(),Ur(e,r.o,r.i),"["+s+(i?",]":"]")}return"[]"}function Xt(e,r,t,n){if(typeof t=="string"){let a=Number(t),s=a>=0&&a.toString()===t||Br(t);if(U(e.base,n)){let i=m(e,n.i);return z(e.base,r.i),s&&a!==a?Lr(e,r.i,t,i):Ae(e,r.i,s?t:'"'+t+'"',i),""}return(s?t:'"'+t+'"')+":"+f(e,n)}return"["+f(e,t)+"]:"+f(e,n)}function an(e,r,t){let n=t.k,a=n.length;if(a>0){let s=t.v;e.base.stack.push(r.i);let i=Xt(e,r,n[0],s[0]);for(let u=1,l=i;u<a;u++)l=Xt(e,r,n[u],s[u]),i+=(l&&i&&",")+l;return e.base.stack.pop(),"{"+i+"}"}return"{}"}function jo(e,r){return Ur(e,r.o,r.i),an(e,r,r.p)}function Yo(e,r,t,n){let a=an(e,r,t);return a!=="{}"?"Object.assign("+n+","+a+")":n}function Wo(e,r,t,n,a){let s=e.base,i=f(e,a),u=Number(n),l=u>=0&&u.toString()===n||Br(n);if(U(s,a))l&&u!==u?Lr(e,r.i,n,i):Ae(e,r.i,l?n:'"'+n+'"',i);else{let g=s.assignments;s.assignments=t,l&&u!==u?Lr(e,r.i,n,i):Ae(e,r.i,l?n:'"'+n+'"',i),s.assignments=g}}function Go(e,r,t,n,a){if(typeof n=="string")Wo(e,r,t,n,a);else{let s=e.base,i=s.stack;s.stack=[];let u=f(e,a);s.stack=i;let l=s.assignments;s.assignments=t,Ae(e,r.i,f(e,n),u),s.assignments=l}}function Ko(e,r,t){let n=t.k,a=n.length;if(a>0){let s=[],i=t.v;e.base.stack.push(r.i);for(let u=0;u<a;u++)Go(e,r,s,n[u],i[u]);return e.base.stack.pop(),rn(s)}return o}function jr(e,r,t){if(r.p){let n=e.base;if(n.features&8)t=Yo(e,r,r.p,t);else{z(n,r.i);let a=Ko(e,r,r.p);if(a)return"("+ie(e,r.i,t)+","+a+m(e,r.i)+")"}}return t}function Ho(e,r){return Ur(e,r.o,r.i),jr(e,r,Oo)}function Jo(e){return'new Date("'+e.s+'")'}function Zo(e,r){if(e.base.features&32)return"/"+r.c+"/"+r.m;throw new O(r)}function Qt(e,r,t){let n=e.base;return U(n,t)?(z(n,r),Vo(e,r,m(e,t.i)),""):f(e,t)}function $o(e,r){let t=wo,n=r.a,a=n.length,s=r.i;if(a>0){e.base.stack.push(s);let i=Qt(e,s,n[0]);for(let u=1,l=i;u<a;u++)l=Qt(e,s,n[u]),i+=(l&&i&&",")+l;e.base.stack.pop(),i&&(t+="(["+i+"])")}return t}function en(e,r,t,n,a){let s=e.base;if(U(s,t)){let i=m(e,t.i);if(z(s,r),U(s,n)){let l=m(e,n.i);return Ce(e,r,i,l),""}if(n.t!==4&&n.i!=null&&Vr(s,n.i)){let l="("+f(e,n)+",["+a+","+a+"])";return Ce(e,r,i,m(e,n.i)),$t(e,r,a),l}let u=s.stack;return s.stack=[],Ce(e,r,i,f(e,n)),s.stack=u,""}if(U(s,n)){let i=m(e,n.i);if(z(s,r),t.t!==4&&t.i!=null&&Vr(s,t.i)){let l="("+f(e,t)+",["+a+","+a+"])";return Ce(e,r,m(e,t.i),i),$t(e,r,a),l}let u=s.stack;return s.stack=[],Ce(e,r,f(e,t),i),s.stack=u,""}return"["+f(e,t)+","+f(e,n)+"]"}function qo(e,r){let t=ho,n=r.e.k,a=n.length,s=r.i,i=r.f,u=m(e,i.i),l=e.base;if(a>0){let g=r.e.v;l.stack.push(s);let S=en(e,s,n[0],g[0],u);for(let d=1,q=S;d<a;d++)q=en(e,s,n[d],g[d],u),S+=(q&&S&&",")+q;l.stack.pop(),S&&(t+="(["+S+"])")}return i.t===26&&(z(l,i.i),t="("+f(e,i)+","+t+")"),t}function Xo(e,r){return Z(e,r.f)+'("'+r.s+'")'}function Qo(e,r){return"new "+r.c+"("+f(e,r.f)+","+r.b+","+r.l+")"}function ea(e,r){return"new DataView("+f(e,r.f)+","+r.b+","+r.l+")"}function ra(e,r){let t=r.i;e.base.stack.push(t);let n=jr(e,r,'new AggregateError([],"'+r.m+'")');return e.base.stack.pop(),n}function ta(e,r){return jr(e,r,"new "+Pe[r.s]+'("'+r.m+'")')}function na(e,r){let t,n=r.f,a=r.i,s=r.s?zo:_o,i=e.base;if(U(i,n)){let u=m(e,n.i);t=s+(r.s?"().then("+sr([],u)+")":"().catch("+Gt([],"throw "+u)+")")}else{i.stack.push(a);let u=f(e,n);i.stack.pop(),t=s+"("+u+")"}return t}function oa(e,r){return"Object("+f(e,r.f)+")"}function Z(e,r){let t=f(e,r);return r.t===4?t:"("+t+")"}function aa(e,r){if(e.mode===1)throw new O(r);return"("+ie(e,r.s,Z(e,r.f)+"()")+").p"}function sa(e,r){if(e.mode===1)throw new O(r);return Z(e,r.a[0])+"("+m(e,r.i)+","+f(e,r.a[1])+")"}function ia(e,r){if(e.mode===1)throw new O(r);return Z(e,r.a[0])+"("+m(e,r.i)+","+f(e,r.a[1])+")"}function ua(e,r){let t=e.base.plugins;if(t)for(let n=0,a=t.length;n<a;n++){let s=t[n];if(s.tag===r.c)return e.child==null&&(e.child=new Mr(e)),s.serialize(r.s,e.child,{id:r.i})}throw new W(r.c)}function la(e,r){let t="",n=!1;return r.f.t!==4&&(z(e.base,r.f.i),t="("+f(e,r.f)+",",n=!0),t+=ie(e,r.i,"("+vt+")("+m(e,r.f.i)+")"),n&&(t+=")"),t}function ca(e,r){return Z(e,r.a[0])+"("+f(e,r.a[1])+")"}function fa(e,r){let t=r.a[0],n=r.a[1],a=e.base,s="";t.t!==4&&(z(a,t.i),s+="("+f(e,t)),n.t!==4&&(z(a,n.i),s+=(s?",":"(")+f(e,n)),s&&(s+=",");let i=ie(e,r.i,"("+At+")("+m(e,n.i)+","+m(e,t.i)+")");return s?s+i+")":i}function Sa(e,r){return Z(e,r.a[0])+"("+f(e,r.a[1])+")"}function ma(e,r){let t=ie(e,r.i,Z(e,r.f)+"()"),n=r.a.length;if(n){let a=f(e,r.a[0]);for(let s=1;s<n;s++)a+=","+f(e,r.a[s]);return"("+t+","+a+","+m(e,r.i)+")"}return t}function pa(e,r){return m(e,r.i)+".next("+f(e,r.f)+")"}function da(e,r){return m(e,r.i)+".throw("+f(e,r.f)+")"}function ga(e,r){return m(e,r.i)+".return("+f(e,r.f)+")"}function ya(e,r){switch(r.t){case 17:return et[r.s];case 18:return Lo(r);case 9:return Uo(e,r);case 10:return jo(e,r);case 11:return Ho(e,r);case 5:return Jo(r);case 6:return Zo(e,r);case 7:return $o(e,r);case 8:return qo(e,r);case 19:return Xo(e,r);case 16:case 15:return Qo(e,r);case 20:return ea(e,r);case 14:return ra(e,r);case 13:return ta(e,r);case 12:return na(e,r);case 21:return oa(e,r);case 22:return aa(e,r);case 25:return ua(e,r);case 26:return xt[r.s];default:throw new O(r)}}function f(e,r){switch(r.t){case 2:return tt[r.s];case 0:return""+r.s;case 1:return'"'+r.s+'"';case 3:return r.s+"n";case 4:return m(e,r.i);case 23:return sa(e,r);case 24:return ia(e,r);case 27:return la(e,r);case 28:return ca(e,r);case 29:return fa(e,r);case 30:return Sa(e,r);case 31:return ma(e,r);case 32:return pa(e,r);case 33:return da(e,r);case 34:return ga(e,r);default:return ie(e,r.i,ya(e,r))}}function lr(e,r){let t=f(e,r);if(r.i!=null&&e.state.vars.length){let n=nn(e.base),a=t;if(n){let s=m(e,r.i);a=t+","+n+s,t.startsWith(s+"=")||(a=s+"="+a),a="("+a+")"}return"("+sr(e.state.vars,a)+")()"}return r.t===10?"("+t+")":t}function cr(e,r){let t=f(e,r),n=r.i;if(n==null)return t;let a=nn(e.base),s=m(e,n),i=e.state.scopeId,u=i==null?"":fe,l=a?"("+t+","+a+s+")":t;if(u==="")return r.t===10&&!a?"("+l+")":l;let g=i==null?"()":"("+fe+'["'+y(i)+'"])';return"("+sr([u],l)+")"+g}function le(e,r){return{type:1,base:Ne(e,r),child:o}}var Wr=class{constructor(r,t){this._p=r;this.depth=t}parse(r){return R(this._p,this.depth,r)}},Gr=class{constructor(r,t){this._p=r;this.depth=t}parse(r){return R(this._p,this.depth,r)}parseWithError(r){return $(this._p,this.depth,r)}isAlive(){return this._p.state.alive}pushPendingState(){$r(this._p)}popPendingState(){Re(this._p)}onParse(r){ue(this._p,r)}onError(r){Jr(this._p,r)}};function Na(e){return{alive:!0,pending:0,initial:!0,buffer:[],onParse:e.onParse,onError:e.onError,onDone:e.onDone}}function Kr(e){return{type:2,base:Ne(2,e),state:Na(e)}}function ba(e,r,t){let n=[];for(let a=0,s=t.length;a<s;a++)a in t?n[a]=R(e,r,t[a]):n[a]=0;return n}function Ca(e,r,t,n){return Fe(t,n,ba(e,r,n))}function Hr(e,r,t){let n=Object.entries(t),a=[],s=[];for(let i=0,u=n.length;i<u;i++)a.push(y(n[i][0])),s.push(R(e,r,n[i][1]));return b in t&&(a.push(E(e.base,b)),s.push(We(er(e.base),R(e,r,Xe(t))))),N in t&&(a.push(E(e.base,N)),s.push(Ge(rr(e.base),R(e,r,e.type===1?K():qe(t))))),P in t&&(a.push(E(e.base,P)),s.push(te(t[P]))),I in t&&(a.push(E(e.base,I)),s.push(t[I]?Q:ee)),{k:a,v:s}}function Yr(e,r,t,n,a){return tr(t,n,a,Hr(e,r,n))}function va(e,r,t,n){return Be(t,R(e,r,n.valueOf()))}function Aa(e,r,t,n){return Me(t,n,R(e,r,n.buffer))}function Ra(e,r,t,n){return Ve(t,n,R(e,r,n.buffer))}function Ea(e,r,t,n){return Le(t,n,R(e,r,n.buffer))}function sn(e,r,t,n){let a=re(n,e.base.features);return Ue(t,n,a?Hr(e,r,a):o)}function Ia(e,r,t,n){let a=re(n,e.base.features);return je(t,n,a?Hr(e,r,a):o)}function Pa(e,r,t,n){let a=[],s=[];for(let[i,u]of n.entries())a.push(R(e,r,i)),s.push(R(e,r,u));return nr(e.base,t,a,s)}function xa(e,r,t,n){let a=[];for(let s of n.keys())a.push(R(e,r,s));return Ye(t,a)}function Ta(e,r,t,n){let a=Ke(t,k(e.base,4),[]);return e.type===1||($r(e),n.on({next:s=>{if(e.state.alive){let i=$(e,r,s);i&&ue(e,He(t,i))}},throw:s=>{if(e.state.alive){let i=$(e,r,s);i&&ue(e,Je(t,i))}Re(e)},return:s=>{if(e.state.alive){let i=$(e,r,s);i&&ue(e,Ze(t,i))}Re(e)}})),a}function Oa(e,r,t){if(this.state.alive){let n=$(this,r,t);n&&ue(this,c(23,e,o,o,o,o,o,[k(this.base,2),n],o,o,o,o)),Re(this)}}function wa(e,r,t){if(this.state.alive){let n=$(this,r,t);n&&ue(this,c(24,e,o,o,o,o,o,[k(this.base,3),n],o,o,o,o))}Re(this)}function ha(e,r,t,n){let a=wr(e.base,{});return e.type===2&&($r(e),n.then(Oa.bind(e,a,r),wa.bind(e,a,r))),ht(e.base,t,a)}function za(e,r,t,n,a){for(let s=0,i=a.length;s<i;s++){let u=a[s];if(u.parse.sync&&u.test(n))return pe(t,u.tag,u.parse.sync(n,new Wr(e,r),{id:t}))}return o}function _a(e,r,t,n,a){for(let s=0,i=a.length;s<i;s++){let u=a[s];if(u.parse.stream&&u.test(n))return pe(t,u.tag,u.parse.stream(n,new Gr(e,r),{id:t}))}return o}function un(e,r,t,n){let a=e.base.plugins;return a?e.type===1?za(e,r,t,n,a):_a(e,r,t,n,a):o}function ka(e,r,t,n,a){switch(a){case Object:return Yr(e,r,t,n,!1);case o:return Yr(e,r,t,n,!0);case Date:return ke(t,n);case Error:case EvalError:case RangeError:case ReferenceError:case SyntaxError:case TypeError:case URIError:return sn(e,r,t,n);case Number:case Boolean:case String:case BigInt:return va(e,r,t,n);case ArrayBuffer:return or(e.base,t,n);case Int8Array:case Int16Array:case Int32Array:case Uint8Array:case Uint16Array:case Uint32Array:case Uint8ClampedArray:case Float32Array:case Float64Array:return Aa(e,r,t,n);case DataView:return Ea(e,r,t,n);case Map:return Pa(e,r,t,n);case Set:return xa(e,r,t,n);default:break}if(a===Promise||n instanceof Promise)return ha(e,r,t,n);let s=e.base.features;if(s&32&&a===RegExp)return De(t,n);if(s&16)switch(a){case BigInt64Array:case BigUint64Array:return Ra(e,r,t,n);default:break}if(s&1&&typeof AggregateError!="undefined"&&(a===AggregateError||n instanceof AggregateError))return Ia(e,r,t,n);if(n instanceof Error)return sn(e,r,t,n);if(b in n||N in n)return Yr(e,r,t,n,!!a);throw new x(n)}function Da(e,r,t,n){if(Array.isArray(n))return Ca(e,r,t,n);if(L(n))return Ta(e,r,t,n);let a=n.constructor;if(a===V)return R(e,r,n.replacement);let s=un(e,r,t,n);return s||ka(e,r,t,n,a)}function Fa(e,r,t){let n=H(e.base,t);if(n.type!==0)return n.value;let a=un(e,r,n.value,t);if(a)return a;throw new x(t)}function R(e,r,t){if(r>=e.base.depthLimit)throw new G(e.base.depthLimit);switch(typeof t){case"boolean":return t?Q:ee;case"undefined":return xe;case"string":return te(t);case"number":return ze(t);case"bigint":return _e(t);case"object":{if(t){let n=H(e.base,t);return n.type===0?Da(e,r+1,n.value,t):n.value}return Te}case"symbol":return E(e.base,t);case"function":return Fa(e,r,t);default:throw new x(t)}}function ce(e,r){try{return R(e,0,r)}catch(t){throw t instanceof h?t:new h(t)}}function ue(e,r){e.state.initial?e.state.buffer.push(r):Zr(e,r,!1)}function Jr(e,r){if(e.state.onError)e.state.onError(r);else throw r instanceof h?r:new h(r)}function ln(e){e.state.onDone&&e.state.onDone()}function Zr(e,r,t){try{e.state.onParse(r,t)}catch(n){Jr(e,n)}}function $r(e){e.state.pending++}function Re(e){--e.state.pending<=0&&ln(e)}function $(e,r,t){try{return R(e,r,t)}catch(n){return Jr(e,n),o}}function qr(e,r){let t=$(e,0,r);t&&(Zr(e,t,!0),e.state.initial=!1,Ba(e,e.state),e.state.pending<=0&&fr(e))}function Ba(e,r){for(let t=0,n=r.buffer.length;t<n;t++)Zr(e,r.buffer[t],!1)}function fr(e){e.state.alive&&(ln(e),e.state.alive=!1)}function Ma(e,r={}){let t=v(r.plugins),n=le(2,{plugins:t,disabledFeatures:r.disabledFeatures,refs:r.refs}),a=ce(n,e),s=ur({plugins:t,features:n.base.features,scopeId:r.scopeId,markedRefs:n.base.marked});return cr(s,a)}async function Va(e,r={}){let t=v(r.plugins),n=ae(2,{plugins:t,disabledFeatures:r.disabledFeatures,refs:r.refs}),a=await se(n,e),s=ur({plugins:t,features:n.base.features,scopeId:r.scopeId,markedRefs:n.base.marked});return cr(s,a)}function La(e,r={}){let t=v(r.plugins),n=le(2,{plugins:t,disabledFeatures:r.disabledFeatures,refs:r.refs});return ce(n,e)}async function Ua(e,r={}){let t=v(r.plugins),n=ae(2,{plugins:t,disabledFeatures:r.disabledFeatures,refs:r.refs});return await se(n,e)}function Xr(e,r){let t=v(r.plugins),n=Kr({plugins:t,refs:r.refs,disabledFeatures:r.disabledFeatures,onParse(a,s){let i=ur({plugins:t,features:n.base.features,scopeId:r.scopeId,markedRefs:n.base.marked}),u;try{u=cr(i,a)}catch(l){r.onError&&r.onError(l);return}r.onSerialize(u,s)},onError:r.onError,onDone:r.onDone});return qr(n,e),fr.bind(null,n)}function ja(e,r){let t=v(r.plugins),n=Kr({plugins:t,refs:r.refs,disabledFeatures:r.disabledFeatures,onParse:r.onParse,onError:r.onError,onDone:r.onDone});return qr(n,e),fr.bind(null,n)}function Ya(e,r){let t=v(r.plugins),n=Lt({plugins:t,refs:r.refs,features:r.features,disabledFeatures:r.disabledFeatures});return ar(n,e)}var Ee=class{constructor(r){this.options=r;this.alive=!0;this.flushed=!1;this.done=!1;this.pending=0;this.cleanups=[];this.refs=new Map;this.keys=new Set;this.ids=0;this.plugins=v(r.plugins)}write(r,t){this.alive&&!this.flushed&&(this.pending++,this.keys.add(r),this.cleanups.push(Xr(t,{plugins:this.plugins,scopeId:this.options.scopeId,refs:this.refs,disabledFeatures:this.options.disabledFeatures,onError:this.options.onError,onSerialize:(n,a)=>{this.alive&&this.options.onData(a?this.options.globalIdentifier+'["'+y(r)+'"]='+n:n)},onDone:()=>{this.alive&&(this.pending--,this.pending<=0&&this.flushed&&!this.done&&this.options.onDone&&(this.options.onDone(),this.done=!0))}})))}getNextID(){for(;this.keys.has(""+this.ids);)this.ids++;return""+this.ids}push(r){let t=this.getNextID();return this.write(t,r),t}flush(){this.alive&&(this.flushed=!0,this.pending<=0&&!this.done&&this.options.onDone&&(this.options.onDone(),this.done=!0))}close(){if(this.alive){for(let r=0,t=this.cleanups.length;r<t;r++)this.cleanups[r]();!this.done&&this.options.onDone&&(this.options.onDone(),this.done=!0),this.alive=!1}}};function Wa(e,r={}){let t=v(r.plugins),n=le(1,{plugins:t,disabledFeatures:r.disabledFeatures}),a=ce(n,e),s=ir({plugins:t,features:n.base.features,markedRefs:n.base.marked});return lr(s,a)}async function Ga(e,r={}){let t=v(r.plugins),n=ae(1,{plugins:t,disabledFeatures:r.disabledFeatures}),a=await se(n,e),s=ir({plugins:t,features:n.base.features,markedRefs:n.base.marked});return lr(s,a)}function Ka(e){return(0,eval)(e)}function Ha(e,r={}){let t=v(r.plugins),n=le(1,{plugins:t,disabledFeatures:r.disabledFeatures});return{t:ce(n,e),f:n.base.features,m:Array.from(n.base.marked)}}async function Ja(e,r={}){let t=v(r.plugins),n=ae(1,{plugins:t,disabledFeatures:r.disabledFeatures});return{t:await se(n,e),f:n.base.features,m:Array.from(n.base.marked)}}function Za(e,r={}){let t=v(r.plugins),n=ir({plugins:t,features:e.f,markedRefs:e.m});return lr(n,e.t)}function $a(e,r={}){var i;let t=v(r.plugins),n=r.disabledFeatures||0,a=(i=e.f)!=null?i:63,s=Vt({plugins:t,markedRefs:e.m,features:a&~n,disabledFeatures:n});return ar(s,e.t)}
