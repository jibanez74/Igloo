{"version":3,"file":"api.cjs","sources":["../../src/api.ts"],"sourcesContent":["import type {\n  IndexRoute,\n  LayoutRoute,\n  PhysicalSubtree,\n  Route,\n  VirtualRootRoute,\n  VirtualRouteNode,\n} from './types'\n\nexport function rootRoute(\n  file: string,\n  children?: Array<VirtualRouteNode>,\n): VirtualRootRoute {\n  return {\n    type: 'root',\n    file,\n    children,\n  }\n}\n\nexport function index(file: string): IndexRoute {\n  return {\n    type: 'index',\n    file,\n  }\n}\n\nexport function layout(\n  file: string,\n  children: Array<VirtualRouteNode>,\n): LayoutRoute\nexport function layout(\n  id: string,\n  file: string,\n  children: Array<VirtualRouteNode>,\n): LayoutRoute\n\nexport function layout(\n  idOrFile: string,\n  fileOrChildren: string | Array<VirtualRouteNode>,\n  children?: Array<VirtualRouteNode>,\n): LayoutRoute {\n  if (Array.isArray(fileOrChildren)) {\n    return {\n      type: 'layout',\n      file: idOrFile,\n      children: fileOrChildren,\n    }\n  } else {\n    return {\n      type: 'layout',\n      id: idOrFile,\n      file: fileOrChildren,\n      children,\n    }\n  }\n}\n\nexport function route(path: string, children: Array<VirtualRouteNode>): Route\nexport function route(path: string, file: string): Route\nexport function route(\n  path: string,\n  file: string,\n  children: Array<VirtualRouteNode>,\n): Route\nexport function route(\n  path: string,\n  fileOrChildren: string | Array<VirtualRouteNode>,\n  children?: Array<VirtualRouteNode>,\n): Route {\n  if (typeof fileOrChildren === 'string') {\n    return {\n      type: 'route',\n      file: fileOrChildren,\n      path,\n      children,\n    }\n  }\n  return {\n    type: 'route',\n    path,\n    children: fileOrChildren,\n  }\n}\n\n/**\n * Mount a physical directory of route files at a given path prefix.\n *\n * @param pathPrefix - The path prefix to mount the directory at. Use empty string '' to merge routes at the current level.\n * @param directory - The directory containing the route files, relative to the routes directory.\n */\nexport function physical(pathPrefix: string, directory: string): PhysicalSubtree\n/**\n * Mount a physical directory of route files at the current level (empty path prefix).\n * This is equivalent to `physical('', directory)`.\n *\n * @param directory - The directory containing the route files, relative to the routes directory.\n */\nexport function physical(directory: string): PhysicalSubtree\nexport function physical(\n  pathPrefixOrDirectory: string,\n  directory?: string,\n): PhysicalSubtree {\n  if (directory === undefined) {\n    // Single argument: directory only, use empty path prefix\n    return {\n      type: 'physical',\n      directory: pathPrefixOrDirectory,\n      pathPrefix: '',\n    }\n  }\n  // Two arguments: pathPrefix and directory\n  return {\n    type: 'physical',\n    directory,\n    pathPrefix: pathPrefixOrDirectory,\n  }\n}\n"],"names":[],"mappings":";;AASO,SAAS,UACd,MACA,UACkB;AAClB,SAAO;AAAA,IACL,MAAM;AAAA,IACN;AAAA,IACA;AAAA,EAAA;AAEJ;AAEO,SAAS,MAAM,MAA0B;AAC9C,SAAO;AAAA,IACL,MAAM;AAAA,IACN;AAAA,EAAA;AAEJ;AAYO,SAAS,OACd,UACA,gBACA,UACa;AACb,MAAI,MAAM,QAAQ,cAAc,GAAG;AACjC,WAAO;AAAA,MACL,MAAM;AAAA,MACN,MAAM;AAAA,MACN,UAAU;AAAA,IAAA;AAAA,EAEd,OAAO;AACL,WAAO;AAAA,MACL,MAAM;AAAA,MACN,IAAI;AAAA,MACJ,MAAM;AAAA,MACN;AAAA,IAAA;AAAA,EAEJ;AACF;AASO,SAAS,MACd,MACA,gBACA,UACO;AACP,MAAI,OAAO,mBAAmB,UAAU;AACtC,WAAO;AAAA,MACL,MAAM;AAAA,MACN,MAAM;AAAA,MACN;AAAA,MACA;AAAA,IAAA;AAAA,EAEJ;AACA,SAAO;AAAA,IACL,MAAM;AAAA,IACN;AAAA,IACA,UAAU;AAAA,EAAA;AAEd;AAgBO,SAAS,SACd,uBACA,WACiB;AACjB,MAAI,cAAc,QAAW;AAE3B,WAAO;AAAA,MACL,MAAM;AAAA,MACN,WAAW;AAAA,MACX,YAAY;AAAA,IAAA;AAAA,EAEhB;AAEA,SAAO;AAAA,IACL,MAAM;AAAA,IACN;AAAA,IACA,YAAY;AAAA,EAAA;AAEhB;;;;;;"}