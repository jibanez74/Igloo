import{j as v,t as a,i as s,b as r,S as h,k as f,M as m,l as p,c as b,m as w,n as $}from"./index-BeYixZIP.js";import{M as _}from"./MovieCard-DBCdmBaR.js";import{E as y}from"./ErrorWarning-CEks-k8X.js";import{S}from"./Spinner-C4Yd-Bc8.js";import"./getImgSrc-ClS6Ftii.js";var C=a('<div class="h-full flex items-center justify-center"><p class=text-blue-200/80>No movies available'),x=a('<div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 sm:gap-6">'),M=a('<section class=py-8><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex items-center justify-between h-10 mb-6"><h2 class="text-2xl font-bold text-white"><span class="bg-gradient-to-r from-yellow-300 to-yellow-400 bg-clip-text text-transparent">Latest Movies</span></h2><div class="w-5 h-5 flex items-center justify-center"></div></div><div class=h-10></div><div class=min-h-[200px]>'),j=a('<div class="aspect-[2/3] rounded-xl bg-blue-950/50 animate-pulse">');function F(){const t=v(()=>({queryKey:["latest-movies"],queryFn:async()=>{try{const l=await fetch("/api/v1/movies/latest",{credentials:"include"}),i=await l.json();if(!l.ok)throw new Error(`${l.status} - ${i.error?i.error:l.statusText}`);return i}catch(l){throw console.error(l),new Error("a network error occurred while fetching latest movies")}}}));return(()=>{var l=M(),i=l.firstChild,n=i.firstChild,o=n.firstChild,g=o.nextSibling,c=n.nextSibling,d=c.nextSibling;return s(g,r(h,{get when(){return t.isPending},get children(){return r(S,{})}})),s(c,r(y,{get error(){var e;return((e=t.error)==null?void 0:e.message)||""},get isVisible(){return t.isError}})),s(d,r(h,{get when(){return!t.isPending},get fallback(){return(()=>{var e=x();return s(e,r(p,{get each(){return Array(12).fill(null)},children:()=>j()})),e})()},get children(){return r(f,{get children(){return[r(m,{get when(){var e;return((e=t.data)==null?void 0:e.movies.length)===0},get children(){return C()}}),r(m,{get when(){var e;return(e=t.data)==null?void 0:e.movies},get children(){var e=x();return s(e,r(p,{get each(){var u;return(u=t.data)==null?void 0:u.movies},children:u=>r(_,{movie:u,imgLoading:"eager"})})),e}})]}})}})),l})()}var E=a('<section class="relative h-[60vh] flex items-center justify-center overflow-hidden"><div class="absolute inset-0 bg-gradient-to-b from-blue-950/90 via-blue-950/80 to-blue-950"></div><div class="relative z-10 text-center px-4 sm:px-6 lg:px-8"><div class="max-w-3xl mx-auto space-y-6"><h1 class="text-4xl sm:text-5xl font-bold"><span class="bg-gradient-to-r from-yellow-300 to-yellow-400 bg-clip-text text-transparent">Welcome to Igloo</span></h1><p class="text-xl text-blue-200">Your personal media server for Movies, TV Shows, Music, and more</p><div class="flex justify-center gap-4"><button type=button class="inline-flex items-center gap-2 px-6 py-3 rounded-lg bg-blue-600 text-white hover:bg-blue-700 hover:shadow-lg hover:shadow-blue-600/20 transition-all duration-300"><span>Start Watching'),k=a("<div class=bg-transparent>");const T=b("/")({component:L});function L(){return[(()=>{var t=E(),l=t.firstChild,i=l.nextSibling,n=i.firstChild,o=n.firstChild,g=o.nextSibling,c=g.nextSibling,d=c.firstChild,e=d.firstChild;return s(n,r(w,{class:"w-16 h-16 mx-auto text-yellow-300","aria-hidden":"true"}),o),s(d,r($,{class:"w-5 h-5","aria-hidden":"true"}),e),t})(),(()=>{var t=k();return s(t,r(F,{})),t})()]}export{T as Route};
