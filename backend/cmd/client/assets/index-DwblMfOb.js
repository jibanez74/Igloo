import{a as t,n as xl,v as wl,b as _l,t as A,i as d,e as n,S as Ve,w as $l,h as s,x as Sl,k as Dl}from"./index-BPQYc3iB.js";import{E as Tl}from"./ErrorWarning-Cntu6XXd.js";var kl=A("<div class=mb-4>"),Il=A('<div class="mb-4 p-4 bg-green-500/10 border border-green-500/20 rounded-lg"><p class=text-green-400>Settings updated successfully!'),Cl=A('<article class="bg-blue-950/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg shadow-blue-900/20"><form class=space-y-8><section class=space-y-4><header><h2 class="text-xl font-semibold text-yellow-300">Media Directories</h2></header><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class=space-y-2><label for=moviesDir class="block text-sm font-medium text-blue-100">Movies Directory</label><input type=text id=moviesDir class="w-full px-3 py-2 bg-blue-900/50 border border-blue-700 rounded-lg text-blue-100 placeholder-blue-400 focus:outline-none focus:ring-2 focus:ring-yellow-300/50 focus:border-yellow-300 disabled:opacity-50 disabled:cursor-not-allowed"placeholder=/path/to/movies></div><div class=space-y-2><label for=tvShowsDir class="block text-sm font-medium text-blue-100">TV Shows Directory</label><input type=text id=tvShowsDir class="w-full px-3 py-2 bg-blue-900/50 border border-blue-700 rounded-lg text-blue-100 placeholder-blue-400 focus:outline-none focus:ring-2 focus:ring-yellow-300/50 focus:border-yellow-300 disabled:opacity-50 disabled:cursor-not-allowed"placeholder=/path/to/tvshows></div><div class=space-y-2><label for=musicDir class="block text-sm font-medium text-blue-100">Music Directory</label><input type=text id=musicDir class="w-full px-3 py-2 bg-blue-900/50 border border-blue-700 rounded-lg text-blue-100 placeholder-blue-400 focus:outline-none focus:ring-2 focus:ring-yellow-300/50 focus:border-yellow-300 disabled:opacity-50 disabled:cursor-not-allowed"placeholder=/path/to/music></div><div class=space-y-2><label for=staticDir class="block text-sm font-medium text-blue-100">Static Directory</label><input type=text id=staticDir class="w-full px-3 py-2 bg-blue-900/50 border border-blue-700 rounded-lg text-blue-100 placeholder-blue-400 focus:outline-none focus:ring-2 focus:ring-yellow-300/50 focus:border-yellow-300 disabled:opacity-50 disabled:cursor-not-allowed"placeholder=/path/to/static></div></div></section><section class=space-y-4><header><h2 class="text-xl font-semibold text-yellow-300">Image Directories</h2></header><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class=space-y-2><label for=moviesImgDir class="block text-sm font-medium text-blue-100">Movies Images</label><input type=text id=moviesImgDir class="w-full px-3 py-2 bg-blue-900/50 border border-blue-700 rounded-lg text-blue-100 placeholder-blue-400 focus:outline-none focus:ring-2 focus:ring-yellow-300/50 focus:border-yellow-300 disabled:opacity-50 disabled:cursor-not-allowed"placeholder=/path/to/movies/images></div><div class=space-y-2><label for=studiosImgDir class="block text-sm font-medium text-blue-100">Studios Images</label><input type=text id=studiosImgDir class="w-full px-3 py-2 bg-blue-900/50 border border-blue-700 rounded-lg text-blue-100 placeholder-blue-400 focus:outline-none focus:ring-2 focus:ring-yellow-300/50 focus:border-yellow-300 disabled:opacity-50 disabled:cursor-not-allowed"placeholder=/path/to/studios/images></div><div class=space-y-2><label for=artistsImgDir class="block text-sm font-medium text-blue-100">Artists Images</label><input type=text id=artistsImgDir class="w-full px-3 py-2 bg-blue-900/50 border border-blue-700 rounded-lg text-blue-100 placeholder-blue-400 focus:outline-none focus:ring-2 focus:ring-yellow-300/50 focus:border-yellow-300 disabled:opacity-50 disabled:cursor-not-allowed"placeholder=/path/to/artists/images></div><div class=space-y-2><label for=avatarImgDir class="block text-sm font-medium text-blue-100">Avatar Images</label><input type=text id=avatarImgDir class="w-full px-3 py-2 bg-blue-900/50 border border-blue-700 rounded-lg text-blue-100 placeholder-blue-400 focus:outline-none focus:ring-2 focus:ring-yellow-300/50 focus:border-yellow-300 disabled:opacity-50 disabled:cursor-not-allowed"placeholder=/path/to/avatars></div></div></section><section class=space-y-4><header><h2 class="text-xl font-semibold text-yellow-300">Transcoding Settings</h2></header><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class=space-y-2><label for=ffmpegPath class="block text-sm font-medium text-blue-100">FFmpeg Path</label><input type=text id=ffmpegPath class="w-full px-3 py-2 bg-blue-900/50 border border-blue-700 rounded-lg text-blue-100 placeholder-blue-400 focus:outline-none focus:ring-2 focus:ring-yellow-300/50 focus:border-yellow-300 disabled:opacity-50 disabled:cursor-not-allowed"placeholder=/usr/bin/ffmpeg></div><div class=space-y-2><label for=ffprobePath class="block text-sm font-medium text-blue-100">FFprobe Path</label><input type=text id=ffprobePath class="w-full px-3 py-2 bg-blue-900/50 border border-blue-700 rounded-lg text-blue-100 placeholder-blue-400 focus:outline-none focus:ring-2 focus:ring-yellow-300/50 focus:border-yellow-300 disabled:opacity-50 disabled:cursor-not-allowed"placeholder=/usr/bin/ffprobe></div><div class=space-y-2><label for=transcodeDir class="block text-sm font-medium text-blue-100">Transcode Directory</label><input type=text id=transcodeDir class="w-full px-3 py-2 bg-blue-900/50 border border-blue-700 rounded-lg text-blue-100 placeholder-blue-400 focus:outline-none focus:ring-2 focus:ring-yellow-300/50 focus:border-yellow-300 disabled:opacity-50 disabled:cursor-not-allowed"placeholder=/path/to/transcode></div><div class=space-y-2><label for=hardwareAcceleration class="block text-sm font-medium text-blue-100">Hardware Acceleration</label><select id=hardwareAcceleration class="w-full px-3 py-2 bg-blue-900/50 border border-blue-700 rounded-lg text-blue-100 focus:outline-none focus:ring-2 focus:ring-yellow-300/50 focus:border-yellow-300 disabled:opacity-50 disabled:cursor-not-allowed"><option value>None</option><option value=h264_nvenc>NVIDIA NVENC (H.264)</option><option value=h264_qsv>Intel QuickSync (H.264)</option><option value=h264_amf>AMD AMF (H.264)</option></select></div></div><div class="flex items-center space-x-2"><input type=checkbox id=enableTranscoding class="w-4 h-4 text-yellow-300 bg-blue-900/50 border-blue-700 rounded focus:ring-yellow-300/50 disabled:opacity-50 disabled:cursor-not-allowed"><label for=enableTranscoding class="text-sm font-medium text-blue-100">Enable Transcoding</label></div></section><section class=space-y-4><header><h2 class="text-xl font-semibold text-yellow-300">API Settings</h2></header><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class=space-y-2><label for=tmdbApiKey class="block text-sm font-medium text-blue-100">TMDB API Key</label><input type=password id=tmdbApiKey class="w-full px-3 py-2 bg-blue-900/50 border border-blue-700 rounded-lg text-blue-100 placeholder-blue-400 focus:outline-none focus:ring-2 focus:ring-yellow-300/50 focus:border-yellow-300 disabled:opacity-50 disabled:cursor-not-allowed"placeholder="Enter your TMDB API key"></div><div class=space-y-2><label for=jellyfinToken class="block text-sm font-medium text-blue-100">Jellyfin Token</label><input type=password id=jellyfinToken class="w-full px-3 py-2 bg-blue-900/50 border border-blue-700 rounded-lg text-blue-100 placeholder-blue-400 focus:outline-none focus:ring-2 focus:ring-yellow-300/50 focus:border-yellow-300 disabled:opacity-50 disabled:cursor-not-allowed"placeholder="Enter your Jellyfin token"></div></div></section><section class=space-y-4><header><h2 class="text-xl font-semibold text-yellow-300">Image Settings</h2></header><div class="flex items-center space-x-2"><input type=checkbox id=downloadImages class="w-4 h-4 text-yellow-300 bg-blue-900/50 border-blue-700 rounded focus:ring-yellow-300/50 disabled:opacity-50 disabled:cursor-not-allowed"><label for=downloadImages class="text-sm font-medium text-blue-100">Download Images Automatically</label></div></section><footer class="flex justify-end"><button type=submit class="inline-flex items-center px-4 py-2 bg-yellow-300 text-blue-900 font-medium rounded-lg hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-300/50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">');function Al(){const[c,E]=t(""),[P,F]=t(""),[M,j]=t(""),[K,H]=t(""),[q,N]=t(""),[J,L]=t(""),[V,Q]=t(""),[B,O]=t(""),[R,W]=t(!1),[z,G]=t(""),[U,X]=t(""),[Y,Z]=t(""),[ee,le]=t(!1),[te,ie]=t(""),[se,oe]=t(""),[re,ae]=t(""),[Qe,de]=t(!1),[ne,u]=t(""),a=xl(()=>({queryKey:["settings"],queryFn:async()=>{try{const l=await fetch("/api/v1/settings",{credentials:"include"}),o=await l.json();if(!l.ok)throw new Error(`${l.status} - ${o.error?o.error:l.statusText}`);return o}catch(l){throw console.error(l),new Error("Failed to fetch settings")}}})),b=wl(()=>({mutationFn:async l=>{const o=await fetch("/api/v1/settings",{method:"put",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(l)}),r=await o.json();if(!o.ok)throw new Error(`${o.status} - ${r.error?r.error:o.statusText}`);return r},onSuccess:()=>{de(!0),setTimeout(()=>de(!1),3e3),Sl.invalidateQueries({queryKey:["settings"]})},onError:l=>{u(l.message),setTimeout(()=>u(""),5e3),a.refetch()}})),Be=async l=>{l.preventDefault(),u("");const o={movies_dir_list:c(),tvshows_dir_list:P(),music_dir_list:M(),movies_img_dir:K(),studios_img_dir:q(),artists_img_dir:J(),avatar_img_dir:V(),static_dir:B(),download_images:R(),ffmpeg_path:z(),ffprobe_path:U(),transcode_dir:Y(),enable_transcoding:ee(),hardware_acceleration:te(),tmdb_api_key:se(),jellyfin_token:re()};b.mutate(o)};_l(()=>{if(a.isSuccess){const{settings:l}=a.data;E(l.movies_dir_list),F(l.tvshows_dir_list),j(l.music_dir_list),H(l.movies_img_dir),N(l.studios_img_dir),L(l.artists_img_dir),Q(l.avatar_img_dir),O(l.static_dir),W(l.download_images),G(l.ffmpeg_path),X(l.ffprobe_path),Z(l.transcode_dir),le(l.enable_transcoding),ie(l.hardware_acceleration),oe(l.tmdb_api_key),ae(l.jellyfin_token)}});const i=()=>a.isLoading||b.isPending;return(()=>{var l=Cl(),o=l.firstChild,r=o.firstChild,Oe=r.firstChild,Re=Oe.nextSibling,ce=Re.firstChild,We=ce.firstChild,g=We.nextSibling,ue=ce.nextSibling,ze=ue.firstChild,f=ze.nextSibling,be=ue.nextSibling,Ge=be.firstChild,p=Ge.nextSibling,Ue=be.nextSibling,Xe=Ue.firstChild,m=Xe.nextSibling,ge=r.nextSibling,Ye=ge.firstChild,Ze=Ye.nextSibling,fe=Ze.firstChild,el=fe.firstChild,v=el.nextSibling,pe=fe.nextSibling,ll=pe.firstChild,y=ll.nextSibling,me=pe.nextSibling,tl=me.firstChild,h=tl.nextSibling,il=me.nextSibling,sl=il.firstChild,x=sl.nextSibling,ve=ge.nextSibling,ol=ve.firstChild,ye=ol.nextSibling,he=ye.firstChild,rl=he.firstChild,w=rl.nextSibling,xe=he.nextSibling,al=xe.firstChild,_=al.nextSibling,we=xe.nextSibling,dl=we.firstChild,$=dl.nextSibling,nl=we.nextSibling,cl=nl.firstChild,S=cl.nextSibling,ul=ye.nextSibling,D=ul.firstChild,_e=ve.nextSibling,bl=_e.firstChild,gl=bl.nextSibling,$e=gl.firstChild,fl=$e.firstChild,T=fl.nextSibling,pl=$e.nextSibling,ml=pl.firstChild,k=ml.nextSibling,Se=_e.nextSibling,vl=Se.firstChild,yl=vl.nextSibling,I=yl.firstChild,hl=Se.nextSibling,C=hl.firstChild;return d(l,n(Ve,{get when(){return ne()},get children(){var e=kl();return d(e,n(Tl,{get error(){return ne()},isVisible:!0})),e}}),o),d(l,n(Ve,{get when(){return Qe()},get children(){return Il()}}),o),o.addEventListener("submit",Be),g.$$input=e=>E(e.currentTarget.value),f.$$input=e=>F(e.currentTarget.value),p.$$input=e=>j(e.currentTarget.value),m.$$input=e=>O(e.currentTarget.value),v.$$input=e=>H(e.currentTarget.value),y.$$input=e=>N(e.currentTarget.value),h.$$input=e=>L(e.currentTarget.value),x.$$input=e=>Q(e.currentTarget.value),w.$$input=e=>G(e.currentTarget.value),_.$$input=e=>X(e.currentTarget.value),$.$$input=e=>Z(e.currentTarget.value),S.$$input=e=>ie(e.currentTarget.value),D.$$input=e=>le(e.currentTarget.checked),T.$$input=e=>oe(e.currentTarget.value),k.$$input=e=>ae(e.currentTarget.value),I.$$input=e=>W(e.currentTarget.checked),d(C,n($l,{class:"w-5 h-5 mr-2"}),null),d(C,()=>a.isLoading?"Loading...":b.isPending?"Saving...":"Save Settings",null),s(e=>{var De=i(),Te=i(),ke=i(),Ie=i(),Ce=i(),Ae=i(),Ee=i(),Pe=i(),Fe=i(),Me=i(),je=i(),Ke=i(),He=i(),qe=i(),Ne=i(),Je=i(),Le=i();return De!==e.e&&(g.disabled=e.e=De),Te!==e.t&&(f.disabled=e.t=Te),ke!==e.a&&(p.disabled=e.a=ke),Ie!==e.o&&(m.disabled=e.o=Ie),Ce!==e.i&&(v.disabled=e.i=Ce),Ae!==e.n&&(y.disabled=e.n=Ae),Ee!==e.s&&(h.disabled=e.s=Ee),Pe!==e.h&&(x.disabled=e.h=Pe),Fe!==e.r&&(w.disabled=e.r=Fe),Me!==e.d&&(_.disabled=e.d=Me),je!==e.l&&($.disabled=e.l=je),Ke!==e.u&&(S.disabled=e.u=Ke),He!==e.c&&(D.disabled=e.c=He),qe!==e.w&&(T.disabled=e.w=qe),Ne!==e.m&&(k.disabled=e.m=Ne),Je!==e.f&&(I.disabled=e.f=Je),Le!==e.y&&(C.disabled=e.y=Le),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0}),s(()=>g.value=c()),s(()=>f.value=P()),s(()=>p.value=M()),s(()=>m.value=B()),s(()=>v.value=K()),s(()=>y.value=q()),s(()=>h.value=J()),s(()=>x.value=V()),s(()=>w.value=z()),s(()=>_.value=U()),s(()=>$.value=Y()),s(()=>S.value=te()),s(()=>D.checked=ee()),s(()=>T.value=se()),s(()=>k.value=re()),s(()=>I.checked=R()),l})()}Dl(["input"]);const Fl=function(){return n(Al,{})};export{Fl as component};
