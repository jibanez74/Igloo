import{c as M,a as l,t as W,i as r,b as a,F as B,d as G,e as H,f as n,s as K,g as Q,h as X}from"./index-Cq4vBH2I.js";import{E as Y}from"./ErrorWarning-DwKZ-TXH.js";var Z=W('<main class="min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8"><section class="max-w-md w-full space-y-8 bg-blue-950/50 backdrop-blur-sm p-8 rounded-xl shadow-lg shadow-blue-900/20"><header><h1 class="text-center text-3xl font-bold text-white">Sign in to your account</h1></header><form class="mt-8 space-y-6"aria-label="Login form"><fieldset class="space-y-4 rounded-md"><legend class=sr-only>Login credentials</legend><div><label for=username class=sr-only>Username</label><div class=relative><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"></div><input autofocus id=username name=username type=text required class="appearance-none relative block w-full px-10 py-2 border border-blue-800/20 bg-blue-900/50 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-yellow-300 focus:z-10 sm:text-sm placeholder:text-blue-200/50"placeholder=Username aria-required=true></div></div><div><label for=email class=sr-only>Email</label><div class=relative><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"></div><input id=email name=email type=email required class="appearance-none relative block w-full px-10 py-2 border border-blue-800/20 bg-blue-900/50 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-yellow-300 focus:z-10 sm:text-sm placeholder:text-blue-200/50"placeholder="Email address"aria-required=true></div></div><div><label for=password class=sr-only>Password</label><div class=relative><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"></div><input id=password name=password type=password required class="appearance-none relative block w-full px-10 py-2 border border-blue-800/20 bg-blue-900/50 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-yellow-300 focus:z-10 sm:text-sm placeholder:text-blue-200/50"placeholder=Password aria-required=true></div></div></fieldset><div><button type=submit class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200">');const ee=M("/login")({component:te});function te(){const[p,k]=l(""),[m,q]=l(""),[g,T]=l(""),[F,o]=l(""),[d,v]=l(!1),[P,u]=l(!1),j=ee.useNavigate(),z=async s=>{s.preventDefault(),v(!0),o(""),u(!1);try{const t=await fetch("/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({username:p(),email:m(),password:g()})}),i=await t.json();if(!t.ok){o(i.error||t.statusText),u(!0);return}Q({user:i.user,isAuthenticated:!0,isLoading:!1}),j({to:"/",from:"/login",replace:!0})}catch(t){console.error(t),o("A network error occurred"),u(!0)}finally{v(!1)}};return(()=>{var s=Z(),t=s.firstChild,i=t.firstChild,c=i.nextSibling,f=c.firstChild,A=f.firstChild,x=A.nextSibling,U=x.firstChild,R=U.nextSibling,h=R.firstChild,y=h.nextSibling,w=x.nextSibling,V=w.firstChild,I=V.nextSibling,$=I.firstChild,_=$.nextSibling,N=w.nextSibling,O=N.firstChild,D=O.nextSibling,S=D.firstChild,C=S.nextSibling,J=f.nextSibling,b=J.firstChild;return c.addEventListener("submit",z),r(c,a(Y,{get error(){return F()},get isVisible(){return P()}}),f),r(h,a(B,{class:"h-5 w-5 text-yellow-300","aria-hidden":"true"})),y.$$input=e=>k(e.currentTarget.value),r($,a(G,{class:"h-5 w-5 text-yellow-300","aria-hidden":"true"})),_.$$input=e=>q(e.currentTarget.value),r(S,a(H,{class:"h-5 w-5 text-yellow-300","aria-hidden":"true"})),C.$$input=e=>T(e.currentTarget.value),r(b,()=>d()?"Signing in...":"Sign in"),n(e=>{var E=d(),L=d();return E!==e.e&&(b.disabled=e.e=E),L!==e.t&&K(b,"aria-busy",e.t=L),e},{e:void 0,t:void 0}),n(()=>y.value=p()),n(()=>_.value=m()),n(()=>C.value=g()),s})()}X(["input"]);export{ee as Route};
