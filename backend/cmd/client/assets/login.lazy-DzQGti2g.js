import{c as M,a as r,t as N,i as s,b as a,F as W,d as B,e as G,f as n,g as H,s as K}from"./index-DNqQGOWK.js";import{E as Q}from"./ErrorWarning-BFvGR95O.js";var X=N('<main class="min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8"><section class="max-w-md w-full space-y-8 bg-slate-900/50 backdrop-blur-sm p-8 rounded-xl shadow-lg shadow-blue-900/20"><header><h1 class="text-center text-3xl font-bold text-white">Sign in to your account</h1></header><form class="mt-8 space-y-6"aria-label="Login form"><fieldset class="space-y-4 rounded-md"><legend class=sr-only>Login credentials</legend><div><label for=username class=sr-only>Username</label><div class=relative><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"></div><input autofocus id=username name=username type=text required class="appearance-none relative block w-full px-10 py-2 border border-blue-900/20 bg-slate-800/50 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm placeholder:text-slate-400"placeholder=Username aria-required=true></div></div><div><label for=email class=sr-only>Email</label><div class=relative><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"></div><input id=email name=email type=email required class="appearance-none relative block w-full px-10 py-2 border border-blue-900/20 bg-slate-800/50 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm placeholder:text-slate-400"placeholder="Email address"aria-required=true></div></div><div><label for=password class=sr-only>Password</label><div class=relative><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"></div><input id=password name=password type=password required class="appearance-none relative block w-full px-10 py-2 border border-blue-900/20 bg-slate-800/50 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm placeholder:text-slate-400"placeholder=Password aria-required=true></div></div></fieldset><div><button type=submit class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200">');const te=M("/login")({component:Y});function Y(){const[p,k]=r(""),[m,q]=r(""),[g,T]=r(""),[F,o]=r(""),[d,v]=r(!1),[P,u]=r(!1),j=async l=>{l.preventDefault(),v(!0),o(""),u(!1);try{const t=await fetch("/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:p(),email:m(),password:g()})}),i=await t.json();if(!t.ok){o(i.error||t.statusText),u(!0);return}console.log(i)}catch(t){console.error(t),o("A network error occurred"),u(!0)}finally{v(!1)}};return(()=>{var l=X(),t=l.firstChild,i=t.firstChild,c=i.nextSibling,b=c.firstChild,z=b.firstChild,x=z.nextSibling,U=x.firstChild,R=U.nextSibling,h=R.firstChild,y=h.nextSibling,w=x.nextSibling,V=w.firstChild,A=V.nextSibling,$=A.firstChild,_=$.nextSibling,I=w.nextSibling,O=I.firstChild,D=O.nextSibling,S=D.firstChild,C=S.nextSibling,J=b.nextSibling,f=J.firstChild;return c.addEventListener("submit",j),s(c,a(Q,{get error(){return F()},get isVisible(){return P()}}),b),s(h,a(W,{class:"h-5 w-5 text-blue-200","aria-hidden":"true"})),y.$$input=e=>k(e.currentTarget.value),s($,a(B,{class:"h-5 w-5 text-blue-200","aria-hidden":"true"})),_.$$input=e=>q(e.currentTarget.value),s(S,a(G,{class:"h-5 w-5 text-blue-200","aria-hidden":"true"})),C.$$input=e=>T(e.currentTarget.value),s(f,()=>d()?"Signing in...":"Sign in"),n(e=>{var E=d(),L=d();return E!==e.e&&(f.disabled=e.e=E),L!==e.t&&K(f,"aria-busy",e.t=L),e},{e:void 0,t:void 0}),n(()=>y.value=p()),n(()=>_.value=m()),n(()=>C.value=g()),l})()}H(["input"]);export{te as Route};
