{{define "title"}}Igloo Media Center{{end}}

{{define "content"}}
<header class="mb-8">
  <h1 class="text-3xl md:text-4xl font-semibold tracking-tight text-white flex items-center gap-3">
    <i class="fa-solid fa-house text-amber-400 text-2xl"></i>
    <span>Welcome to Igloo</span>
  </h1>

  <p class="mt-2 text-slate-400 max-w-2xl text-sm md:text-base">
    Explore your personal media library â€” recently added movies, TV shows, music, and more.
  </p>
</header>

<!-- Recently Added Albums -->
<section aria-labelledby="recent-albums" class="mt-8">
  <h2 id="recent-albums" class="text-xl md:text-2xl font-semibold tracking-tight mb-4">
    Recently Added Albums
  </h2>

  {{if .Albums}}
  <!-- Responsive grid for albums -->
  <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4">
    {{range .Albums}}
    <article
      class="group rounded-xl overflow-hidden bg-slate-900 border border-slate-800 transition-all duration-300 hover:shadow-xl hover:shadow-amber-400/20 hover:border-amber-400/50 hover:-translate-y-1">
      <a href="/music/albums/{{.ID}}" class="block focus:outline-none focus:ring-2 focus:ring-amber-400">
        <div class="aspect-square bg-slate-800">
          {{if .Cover.Valid}}
          <img src="{{.Cover.String}}" alt="{{.Title}} cover" width="640" height="640" loading="lazy" decoding="async"
            fetchpriority="low"
            sizes="(min-width: 1024px) 16.66vw, (min-width: 768px) 25vw, (min-width: 640px) 33.33vw, 50vw"
            class="h-full w-full object-cover transition-transform duration-300 group-hover:scale-105" />
          {{else}}
          <!-- Default album cover when no cover image is available -->
          <div class="h-full w-full flex items-center justify-center">
            <i class="fa-solid fa-music text-slate-600 text-4xl"></i>
          </div>
          {{end}}
        </div>

        <div class="p-3">
          <h3 class="text-sm font-semibold truncate">{{.Title}}</h3>
        </div>
      </a>
    </article>
    {{end}}
  </div>
  {{else}}
  <!-- Empty state when no albums are found -->
  <div class="text-center py-12">
    <div class="mx-auto w-16 h-16 bg-slate-800 rounded-full flex items-center justify-center mb-4">
      <i class="fa-solid fa-music text-slate-600 text-2xl"></i>
    </div>
    <h3 class="text-lg font-semibold text-slate-300 mb-2">No Albums Yet</h3>
    <p class="text-slate-400 max-w-md mx-auto">
      Your music library is empty. Add some albums to get started with your personal music collection.
    </p>
  </div>
  {{end}}
</section>

{{end}}