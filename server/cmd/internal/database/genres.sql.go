// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: genres.sql

package database

import (
	"context"
)

const getOrCreateGenre = `-- name: GetOrCreateGenre :one
INSERT INTO
  genres (tag, genre_type)
VALUES
  (?, ?) ON CONFLICT (tag, genre_type) DO
UPDATE
SET
  updated_at = CURRENT_TIMESTAMP RETURNING id, tag, genre_type, created_at, updated_at
`

type GetOrCreateGenreParams struct {
	Tag       string `json:"tag"`
	GenreType string `json:"genre_type"`
}

func (q *Queries) GetOrCreateGenre(ctx context.Context, arg GetOrCreateGenreParams) (Genre, error) {
	row := q.queryRow(ctx, q.getOrCreateGenreStmt, getOrCreateGenre, arg.Tag, arg.GenreType)
	var i Genre
	err := row.Scan(
		&i.ID,
		&i.Tag,
		&i.GenreType,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}
